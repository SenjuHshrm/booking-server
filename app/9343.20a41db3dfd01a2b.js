"use strict";(self.webpackChunkbooking_app=self.webpackChunkbooking_app||[]).push([[9343],{9343:(q,g,o)=>{o.r(g),o.d(g,{GuestTableModule:()=>I});var f=o(6895),p=o(9299),_=o(727),m=o(7974),l=o(671),C=o(7893),b=o(1836),t=o(4650),d=o(5412),T=o(3071),x=o(9083),h=o(7392),r=o(8255);function M(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Profile"),t.qZA())}const v=function(e){return[e]};function Z(e,i){if(1&e&&(t.TgZ(0,"td",19),t._UZ(1,"img",20),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("src",t.VKq(1,v,n.profile),t.LSH)}}function O(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Firstname"),t.qZA())}function w(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.firstname)}}function y(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Lastname"),t.qZA())}function P(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.lastname)}}function G(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Email"),t.qZA())}function A(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.email)}}function U(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Status"),t.qZA())}function N(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.status)}}function D(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Action"),t.qZA())}function S(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",19)(1,"button",21)(2,"mat-icon"),t._uU(3,"more_horiz"),t.qZA()(),t.TgZ(4,"mat-menu",null,22)(6,"button",23),t.NdJ("click",function(){const c=t.CHM(n).$implicit,u=t.oxw();return t.KtG(u.viewProfile(c.id))}),t._uU(7,"View"),t.qZA(),t.TgZ(8,"button",23),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.openValidationModal("suspend"))}),t._uU(9,"Suspend"),t.qZA(),t.TgZ(10,"button",23),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.openValidationModal("terminate"))}),t._uU(11,"Terminate"),t.qZA()()()}if(2&e){const n=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",n)}}function Y(e,i){1&e&&t._UZ(0,"tr",24)}function J(e,i){1&e&&t._UZ(0,"tr",25)}const Q=function(){return[5,10,25]},B=[{path:"",component:(()=>{class e{constructor(n,a,s,c){this.createlistingDialog=n,this._user=a,this._basicUtil=s,this.dialog=c,this.page=1,this.limit=5,this.total=0,this.userList=[],this._sub=new _.w0,this.dataSource=new l.by([{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""}]),this.displayedColumns=["profile","firstname","lastname","email","status","action"]}ngOnInit(){}ngAfterViewInit(){this._getUsers(this.paginator.pageIndex+1,this.paginator.pageSize),this.dataSource.paginator=this.paginator}ngOnDestroy(){this._sub.unsubscribe()}handlePageChange(n){this._getUsers(n.pageIndex+1,n.pageSize)}_getUsers(n,a){this.userList=[],this.dataSource=new l.by,this._sub.add(this._user.getUsersByAccess("customer",n,a).subscribe({next:s=>{this.total=s.total,s.auth.forEach(c=>{this.userList.push({id:c.userId._id,profile:this._basicUtil.setImgUrl(c.userId.img),firstname:c.userId.name.fName,lastname:c.userId.name.lName,email:c.email,status:c.userId.status})}),this.dataSource=new l.by(this.userList)}}))}viewProfile(n){this.dialog.open(C.W,{disableClose:!0,panelClass:"custom-view-profile-dialog",data:n})}openValidationModal(n){this.dialog.open(b.v,{width:"100%",height:"100%",maxHeight:"15rem",maxWidth:"30rem",data:{}})}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(d.uw),t.Y36(T.K),t.Y36(x.M),t.Y36(d.uw))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-guest-table"]],viewQuery:function(a,s){if(1&a&&t.Gf(m.NW,5),2&a){let c;t.iGM(c=t.CRH())&&(s.paginator=c.first)}},decls:31,vars:6,consts:[[1,"guest_table_container"],[1,"listing-search","card"],[1,"icon"],["type","text","name","search-listing","placeholder","Search listing","value",""],[1,"table_wrapper"],["mat-table","",3,"dataSource"],["matColumnDef","profile"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firstname"],["matColumnDef","lastname"],["matColumnDef","email"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","select page","showFirstLastButtons","",1,"table-pagination",3,"length","pageSizeOptions","page"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["alt","image",1,"img-listing",3,"src"],["mat-button","",1,"action-btn",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon"),t._uU(4,"search"),t.qZA()(),t._UZ(5,"input",3),t.qZA(),t.TgZ(6,"div",4)(7,"table",5),t.ynx(8,6),t.YNc(9,M,2,0,"th",7),t.YNc(10,Z,2,3,"td",8),t.BQk(),t.ynx(11,9),t.YNc(12,O,2,0,"th",7),t.YNc(13,w,2,1,"td",8),t.BQk(),t.ynx(14,10),t.YNc(15,y,2,0,"th",7),t.YNc(16,P,2,1,"td",8),t.BQk(),t.ynx(17,11),t.YNc(18,G,2,0,"th",7),t.YNc(19,A,2,1,"td",8),t.BQk(),t.ynx(20,12),t.YNc(21,U,2,0,"th",7),t.YNc(22,N,2,1,"td",8),t.BQk(),t.ynx(23,13),t.YNc(24,D,2,0,"th",7),t.YNc(25,S,12,1,"td",8),t.BQk(),t.YNc(26,Y,1,0,"tr",14),t.YNc(27,J,1,0,"tr",15),t.qZA()(),t.TgZ(28,"div")(29,"mat-paginator",16,17),t.NdJ("page",function(u){return s.handlePageChange(u)}),t.qZA()()()),2&a&&(t.xp6(7),t.Q6J("dataSource",s.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(2),t.Q6J("length",s.total)("pageSizeOptions",t.DdM(5,Q)))},dependencies:[l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,m.NW,h.Hw,r.VK,r.OP,r.p6],styles:[".guest_table_container[_ngcontent-%COMP%]{overflow-x:auto;display:flex;flex-direction:column;height:100%}.guest_table_container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-top:1rem}.guest_table_container[_ngcontent-%COMP%]   .listing-search[_ngcontent-%COMP%]{background-color:#fff;box-shadow:1px 1px 5px #8887;border-radius:5px;display:flex;align-items:center;justify-content:space-between;width:100%;max-width:30rem;gap:.1rem}.guest_table_container[_ngcontent-%COMP%]   .listing-search[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:50px;width:20%;height:100%;display:flex;justify-content:center;align-items:center;color:#68a86a;cursor:pointer}.guest_table_container[_ngcontent-%COMP%]   .listing-search[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px;height:auto;width:auto}.guest_table_container[_ngcontent-%COMP%]   .listing-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background-color:transparent;height:100%;width:100%;font-size:1rem;padding:1rem}.guest_table_container[_ngcontent-%COMP%]   .img-listing[_ngcontent-%COMP%]{width:2.5rem;height:auto;padding:5px;border-radius:100%}.guest_table_container[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background-color:transparent;outline:none;cursor:pointer}.guest_table_container[_ngcontent-%COMP%]   .table-pagination[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0}.guest_table_container[_ngcontent-%COMP%]   .table_wrapper[_ngcontent-%COMP%]{width:100%;height:100%;overflow-x:auto}.guest_table_container[_ngcontent-%COMP%]   .table_wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{overflow-x:auto;position:relative}"]})}return e})()}];let z=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(B),p.Bz]})}return e})();var j=o(4144),H=o(9549);let I=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[f.ez,z,l.p0,m.TU,j.c,H.lN,h.Ps,r.Tx]})}return e})()}}]);