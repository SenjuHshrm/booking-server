"use strict";(self.webpackChunkbooking_app=self.webpackChunkbooking_app||[]).push([[9096],{4461:(A,w,p)=>{p.d(w,{T:()=>O});var d=p(4650),P=p(6895);function e(r,l){if(1&r&&(d.TgZ(0,"span",2),d._uU(1),d.qZA()),2&r){const _=d.oxw().$implicit;d.xp6(1),d.Oqu(_.message)}}function M(r,l){if(1&r&&(d.TgZ(0,"div"),d.YNc(1,e,2,1,"span",1),d.qZA()),2&r){const _=l.$implicit,g=d.oxw();d.xp6(1),d.Q6J("ngIf",(null==g.form.controls[_.field].errors?null:g.form.controls[_.field].errors[_.error])&&((null==g.form.controls[_.field]?null:g.form.controls[_.field].dirty)||(null==g.form.controls[_.field]?null:g.form.controls[_.field].touched)))}}let O=(()=>{class r{constructor(){this.errors=[]}static#e=this.\u0275fac=function(g){return new(g||r)};static#n=this.\u0275cmp=d.Xpm({type:r,selectors:[["app-input-error-message"]],inputs:{form:"form",errors:"errors"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["class","val-err-msg",4,"ngIf"],[1,"val-err-msg"]],template:function(g,m){1&g&&d.YNc(0,M,2,1,"div",0),2&g&&d.Q6J("ngForOf",m.errors)},dependencies:[P.sg,P.O5],styles:[".val-err-msg[_ngcontent-%COMP%]{font-size:15px;margin-top:5px;font-family:Poppins-Regular}"]})}return r})()},9096:(A,w,p)=>{p.r(w),p.d(w,{AccountVerificationModule:()=>Ve});var d=p(6895),P=p(9299),e=p(4650),M=p(3900),O=p(262),r=p(4006),l=p(5412);const _=[{field:"firstname",error:"required",message:"First Name is required."},{field:"firstname",error:"minlength",message:"First Name must consist of 2 - 50 characters only."},{field:"firstname",error:"maxlength",message:"First Name must consist of 2 - 50 characters only."}],g=[{field:"lastname",error:"required",message:"Last Name is required."},{field:"lastname",error:"minlength",message:"Last Name must consist of 2 - 50 characters only."},{field:"lastname",error:"maxlength",message:"Last Name must consist of 2 - 50 characters only."}];var m=p(727),v=p(7009),y=p(9083),b=p(3071),x=p(1321),Z=p(7556),u=p(7392),T=p(4461),h=p(1572);function U(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-input-error-message",17),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("form",t.updateForm)("errors",t.firstNameErrors)}}function F(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-input-error-message",17),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("form",t.updateForm)("errors",t.lastNameErrors)}}function J(o,s){1&o&&(e.TgZ(0,"span"),e._UZ(1,"mat-spinner",18),e.qZA()),2&o&&(e.xp6(1),e.Q6J("diameter",20))}function q(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"Save"),e.qZA())}let L=(()=>{class o{constructor(t,i,n,a,c,f,C){this.fb=t,this.util=i,this.dialog=n,this.data=a,this.userService=c,this._token=f,this._auth=C,this._sub=new m.w0,this._snack=(0,e.f3M)(v.ux),this.firstNameErrors=_,this.lastNameErrors=g,this.isLoading=!1,this.verifiedInfo=a,this.token=this._token.decodedToken()}ngOnInit(){this.updateForm=this.fb.group({firstname:new r.NI(this.verifiedInfo.fName,{validators:[r.kI.required,r.kI.minLength(2),r.kI.maxLength(50)]}),lastname:new r.NI(this.verifiedInfo.lName,{validators:[r.kI.required,r.kI.minLength(2),r.kI.maxLength(50)]})})}ngOnDestroy(){this._sub.unsubscribe()}closeDialog(){this.isLoading||this.dialog.close()}onSubmit(t){if(!t.valid)return;this.isLoading=!0;const i=t.getRawValue();let n={fName:i.firstname,lName:i.lastname,type:"name"};const a=this.token.sub;this._sub.add(this._auth.csrfToken().pipe((0,M.w)(c=>this.userService.verificationProfileUpdate(n,a,c.token)),(0,O.K)(c=>c)).subscribe({next:c=>{this.isLoading=!1,this.dialog.close({fName:c.profile.name.fName,lName:c.profile.name.lName})},error:c=>{this.isLoading=!1,this._snack.open(c.error.code,"",{duration:1e3})}}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(r.qu),e.Y36(y.M),e.Y36(l.so),e.Y36(l.WI),e.Y36(b.K),e.Y36(x.B),e.Y36(Z.e))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-legal-name"]],decls:29,vars:8,consts:[[1,"legal_name_container"],[1,"header"],[1,"title_wrapper"],[1,"info_title"],[1,"sub_title"],[1,"close-button-normal",3,"click"],[2,"margin-top","3px"],[1,"content"],[3,"formGroup","ngSubmit"],[1,"_wrapper"],[1,"input-wrapper"],[1,"label"],["type","text","name","firstname","placeholder","Enter your first name","formControlName","firstname","required","",3,"disabled"],[4,"ngIf"],["type","text","name","lastname","placeholder","Enter your last name","formControlName","lastname","required","",3,"disabled"],[1,"_btn"],[1,"main-button",3,"disabled"],[3,"form","errors"],[3,"diameter"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Legal name"),e.qZA(),e.TgZ(5,"div",4),e._uU(6," Make sure this matches the name on your government ID. "),e.qZA()(),e.TgZ(7,"div",5),e.NdJ("click",function(){return n.closeDialog()}),e.TgZ(8,"mat-icon",6),e._uU(9,"close"),e.qZA()()(),e.TgZ(10,"div"),e._UZ(11,"hr"),e.qZA(),e.TgZ(12,"div",7)(13,"form",8),e.NdJ("ngSubmit",function(){return n.onSubmit(n.updateForm)}),e.TgZ(14,"div",9)(15,"div",10)(16,"div",11),e._uU(17,"First Name"),e.qZA(),e._UZ(18,"input",12),e.YNc(19,U,2,2,"ng-container",13),e.qZA(),e.TgZ(20,"div",10)(21,"div",11),e._uU(22,"Last Name"),e.qZA(),e._UZ(23,"input",14),e.YNc(24,F,2,2,"ng-container",13),e.qZA()(),e.TgZ(25,"div",15)(26,"button",16),e.YNc(27,J,2,1,"span",13),e.YNc(28,q,2,0,"span",13),e.qZA()()()()()),2&i&&(e.xp6(13),e.Q6J("formGroup",n.updateForm),e.xp6(5),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.util.isFormInputValid(n.updateForm,"firstname")),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.util.isFormInputValid(n.updateForm,"lastname")),e.xp6(2),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",!0===n.isLoading),e.xp6(1),e.Q6J("ngIf",!1===n.isLoading))},dependencies:[d.O5,u.Hw,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,T.T,h.Ou],styles:[".legal_name_container[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;height:100%;overflow-y:auto;gap:.5rem}.legal_name_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex:0;padding:1rem;flex:none;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.legal_name_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .info_title[_ngcontent-%COMP%]{font-size:clamp(1rem,.9vw,8rem);text-align:left;font-weight:700}.legal_name_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .sub_title[_ngcontent-%COMP%]{color:#8f8f8f}.legal_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0rem 1rem 1rem;flex:1;display:flex;flex-direction:column;overflow-y:auto}.legal_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-y:auto;gap:.5rem}.legal_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._wrapper[_ngcontent-%COMP%]{flex-basis:100%;max-height:100%;flex:1;display:flex;flex-direction:column;overflow-y:auto;gap:1rem;padding:.5rem 0 0}.legal_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center}.legal_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:.3rem}.legal_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1rem;border:2px solid #63AB68;width:100%;border-radius:10px;font-family:Poppins-Medium;font-size:15px}.legal_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .val-err-msg[_ngcontent-%COMP%]{font-size:15px;margin-top:5px;font-family:Poppins-Regular}.legal_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._btn[_ngcontent-%COMP%]{flex:none}"]})}return o})();function Q(o,s){1&o&&(e.ynx(0),e.TgZ(1,"span",15),e._uU(2,"Please enter your prefered name."),e.qZA(),e.BQk())}let Y=(()=>{class o{constructor(t,i){this.dialog=t,this.data=i,this.verifiedInfo=i,console.log(this.verifiedInfo)}closeDialog(){this.dialog.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.so),e.Y36(l.WI))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-perefered-name"]],decls:23,vars:2,consts:[[1,"prefered_name_container"],[1,"header"],[1,"title_wrapper"],[1,"info_title"],[1,"sub_title"],[1,"close-button-normal",3,"click"],[2,"margin-top","3px"],[1,"content"],[1,"input-wrapper"],[1,"label"],["type","text","name","preferedname","placeholder","Enter your prefered name","required","",3,"ngModel","ngModelChange"],["preferredName","ngModel"],[4,"ngIf"],[1,"_btn"],[1,"main-button"],[1,"val-err-msg"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Prefered name"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"This is how your first name will appear to proprietor and guests."),e.qZA()(),e.TgZ(7,"div",5),e.NdJ("click",function(){return n.closeDialog()}),e.TgZ(8,"mat-icon",6),e._uU(9,"close"),e.qZA()()(),e.TgZ(10,"div"),e._UZ(11,"hr"),e.qZA(),e.TgZ(12,"div",7)(13,"form")(14,"div",8)(15,"div",9),e._uU(16,"Preferred Name"),e.qZA(),e.TgZ(17,"input",10,11),e.NdJ("ngModelChange",function(c){return n.verifiedInfo.prefered=c}),e.qZA(),e.YNc(19,Q,3,0,"ng-container",12),e.qZA(),e.TgZ(20,"div",13)(21,"button",14),e._uU(22,"Save"),e.qZA()()()()()),2&i){const a=e.MAs(18);e.xp6(17),e.Q6J("ngModel",n.verifiedInfo.prefered),e.xp6(2),e.Q6J("ngIf",a.invalid&&(a.dirty||a.touched))}},dependencies:[d.O5,u.Hw,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F],styles:[".prefered_name_container[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;height:100%;overflow-y:auto}.prefered_name_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex:0;padding:1rem;flex:none;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.prefered_name_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .info_title[_ngcontent-%COMP%]{font-size:clamp(1rem,.9vw,8rem);text-align:left;font-weight:700}.prefered_name_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .sub_title[_ngcontent-%COMP%]{color:#8f8f8f}.prefered_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1rem;flex:1;display:flex;flex-direction:column;overflow-y:auto}.prefered_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-y:auto}.prefered_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;flex:1;display:flex;flex-direction:column;justify-content:center;overflow-y:auto;max-height:100%}.prefered_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:.3rem}.prefered_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1rem;border:2px solid #63AB68;width:100%;border-radius:10px;font-family:Poppins-Medium;font-size:15px}.prefered_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .val-err-msg[_ngcontent-%COMP%]{font-size:15px;margin-top:5px;font-family:Poppins-Regular}.prefered_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._btn[_ngcontent-%COMP%]{flex:none}.prefered_name_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}"]})}return o})();var S=p(4986),E=p(5963),V=p(5698);const B=function(o){return{disabled:o}};function D(o,s){if(1&o&&(e.TgZ(0,"span",20),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,B,!t.canResend)),e.xp6(1),e.hij("Send again in ",t.resendTimer,"s")}}function R(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"span",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.resendCode())}),e._uU(1,"Send again"),e.qZA()}}let j=(()=>{class o{constructor(t,i,n){this.dialogRef=t,this.data=i,this.fb=n,this.canResend=!1,this.resendTimer=30,this.timerSubscription=new m.w0,this.phoneNumber=i,this.securityCodeForm=this.fb.group({code1:[""],code2:[""],code3:[""],code4:[""]})}ngOnInit(){this.startResendTimer()}startResendTimer(){this.canResend=!1,this.timerSubscription=function z(o=0,s=S.z){return o<0&&(o=0),(0,E.H)(o,o,s)}(1e3).pipe((0,V.q)(this.resendTimer)).subscribe(t=>this.resendTimer-=1,null,()=>this.canResend=!0)}resendCode(){this.canResend&&(this.resendTimer=30,this.startResendTimer(),console.log("Code resent to ",this.phoneNumber))}onConfirm(){this.dialogRef.close(`${this.securityCodeForm.value.code1}${this.securityCodeForm.value.code2}${this.securityCodeForm.value.code3}${this.securityCodeForm.value.code4}`)}onCancel(){this.dialogRef.close()}ngOnDestroy(){this.timerSubscription&&this.timerSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.so),e.Y36(l.WI),e.Y36(r.qu))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-verification-code"]],decls:30,vars:4,consts:[[1,"verification-code"],[1,"header"],[1,"title_wrapper"],[1,"info_title"],[1,"sub_title"],[1,"close-button-normal",3,"click"],[2,"margin-top","3px"],[1,"content"],["mat-dialog-content",""],[3,"formGroup"],[1,"code-inputs"],["matInput","","maxlength","1","formControlName","code1","type","number","autofocus",""],["matInput","","maxlength","1","formControlName","code2","type","number"],["matInput","","maxlength","1","formControlName","code3","type","number"],["matInput","","maxlength","1","formControlName","code4","type","number"],[1,"footer"],[3,"ngClass",4,"ngIf"],[3,"click",4,"ngIf"],["mat-dialog-actions","",1,"veri_btn_action"],[1,"main-button",3,"click"],[3,"ngClass"],[3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Enter your security code"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Enter the 4-digit code TaraGo just sent"),e.TgZ(7,"span"),e._uU(8),e.qZA()()(),e.TgZ(9,"div",5),e.NdJ("click",function(){return n.onCancel()}),e.TgZ(10,"mat-icon",6),e._uU(11,"close"),e.qZA()()(),e.TgZ(12,"div",7)(13,"div",8)(14,"form",9)(15,"div",10),e._UZ(16,"input",11)(17,"input",12)(18,"input",13)(19,"input",14),e.qZA()()()(),e.TgZ(20,"div",15)(21,"div",4),e._uU(22," Didn't get a text? "),e.YNc(23,D,2,4,"span",16),e.YNc(24,R,2,0,"span",17),e.qZA(),e.TgZ(25,"div",18)(26,"button",19),e.NdJ("click",function(){return n.onCancel()}),e._uU(27,"Cancel"),e.qZA(),e.TgZ(28,"button",19),e.NdJ("click",function(){return n.onConfirm()}),e._uU(29,"Confirm"),e.qZA()()()()),2&i&&(e.xp6(8),e.hij("+63",n.phoneNumber,""),e.xp6(6),e.Q6J("formGroup",n.securityCodeForm),e.xp6(9),e.Q6J("ngIf",!n.canResend),e.xp6(1),e.Q6J("ngIf",n.canResend))},dependencies:[d.mk,d.O5,u.Hw,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.nD,r.sg,r.u,l.xY,l.H8],styles:[".verification-code[_ngcontent-%COMP%]{background-color:#fff;padding:1rem}.verification-code[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.verification-code[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .info_title[_ngcontent-%COMP%]{font-size:clamp(1rem,.9vw,8rem);text-align:left;font-weight:700}.verification-code[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .sub_title[_ngcontent-%COMP%]{color:#8f8f8f}.verification-code[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .code-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.verification-code[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .code-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:4rem;text-align:center;font-size:2rem;margin-right:5px}.verification-code[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .verification-code[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.verification-code[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.verification-code[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin-bottom:1rem}.verification-code[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#68a968;text-decoration:underline;cursor:pointer}.verification-code[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .veri_btn_action[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;margin-top:1rem}"]})}return o})();function G(o,s){1&o&&(e.ynx(0),e.TgZ(1,"span",16),e._uU(2,"Please enter a valid 10-digit phone number."),e.qZA(),e.BQk())}let H=(()=>{class o{constructor(t,i,n){this.dialogVeri=t,this.dialog=i,this.data=n,this.phoneNumber=n}closeDialog(){this.dialog.close()}dialogverifyNumber(){this.dialogVeri.open(j,{width:"100%",height:"fit-content",maxHeight:"auto",maxWidth:"45rem",data:this.phoneNumber}),this.closeDialog()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.uw),e.Y36(l.so),e.Y36(l.WI))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-phone-number"]],decls:26,vars:3,consts:[[1,"phonenumber_container"],[1,"header"],[1,"title_wrapper"],[1,"info_title"],[1,"sub_title"],[1,"close-button-normal",3,"click"],[2,"margin-top","3px"],[1,"content"],[1,"input-wrapper"],[1,"label"],[1,"phone-input"],[1,"country-code"],["type","number","name","phoneNumber","placeholder","Enter your phone number","required","","pattern","\\d{10}",3,"ngModel","ngModelChange"],["phoneNumberInput","ngModel"],[4,"ngIf"],[1,"main-button",3,"disabled","click"],[1,"val-err-msg"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Phone Number"),e.qZA(),e.TgZ(5,"div",4),e._uU(6," Add a number so confirmed guests and TaraGo can get in touch. You can add other numbers and choose how they\u2019re used. "),e.qZA()(),e.TgZ(7,"div",5),e.NdJ("click",function(){return n.closeDialog()}),e.TgZ(8,"mat-icon",6),e._uU(9,"close"),e.qZA()()(),e.TgZ(10,"div"),e._UZ(11,"hr"),e.qZA(),e.TgZ(12,"div",7)(13,"form")(14,"div",8)(15,"div",9),e._uU(16,"Phone Number"),e.qZA(),e.TgZ(17,"div",10)(18,"div",11)(19,"span"),e._uU(20,"+63"),e.qZA()(),e.TgZ(21,"input",12,13),e.NdJ("ngModelChange",function(c){return n.phoneNumber=c}),e.qZA()(),e.YNc(23,G,3,0,"ng-container",14),e.qZA(),e.TgZ(24,"button",15),e.NdJ("click",function(){return n.dialogverifyNumber()}),e._uU(25," Verify "),e.qZA()()()()),2&i){const a=e.MAs(22);e.xp6(21),e.Q6J("ngModel",n.phoneNumber),e.xp6(2),e.Q6J("ngIf",a.invalid&&(a.dirty||a.touched)),e.xp6(1),e.Q6J("disabled",!n.phoneNumber)}},dependencies:[d.O5,u.Hw,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.c5,r.On,r.F],styles:[".phonenumber_container[_ngcontent-%COMP%]{background-color:#fff;max-width:35rem;height:100%;display:flex;flex-direction:column;gap:1rem}.phonenumber_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:1rem 1rem 0;flex:none;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;gap:1rem}.phonenumber_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]{flex:1}.phonenumber_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .info_title[_ngcontent-%COMP%]{font-size:clamp(1rem,.9vw,8rem);text-align:left;font-weight:700}.phonenumber_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .sub_title[_ngcontent-%COMP%]{color:#8f8f8f}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0rem 1rem 1rem;flex:1;display:flex;flex-direction:column}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:100%;font-size:15px;margin-bottom:5px}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .phone-input[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .country-code[_ngcontent-%COMP%]{border-radius:10px 0 0 10px;border:2px solid #63AB68;border-right:none;height:4rem;padding:1rem;font-size:15px;display:flex;justify-content:center;align-items:center}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{border-left:none;padding:1rem;border:2px solid #63AB68;width:100%;border-radius:0 10px 10px 0;font-family:Poppins-Medium;font-size:15px;height:4rem}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus{border-color:#63ab68}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.phonenumber_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .val-err-msg[_ngcontent-%COMP%]{width:100%;font-size:15px;margin-top:5px;font-family:Poppins-Regular}"]})}return o})();function K(o,s){if(1&o&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function W(o,s){1&o&&(e.TgZ(0,"div",20),e._UZ(1,"img",21),e.qZA())}function $(o,s){if(1&o&&(e.TgZ(0,"div",20),e._UZ(1,"img",22),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.frontPreview,e.LSH)}}function X(o,s){1&o&&(e.TgZ(0,"div",20),e._UZ(1,"img",23),e.qZA())}function ee(o,s){if(1&o&&(e.TgZ(0,"div",20),e._UZ(1,"img",22),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.backPreview,e.LSH)}}function ne(o,s){1&o&&(e.TgZ(0,"span"),e._UZ(1,"mat-spinner",24),e.qZA()),2&o&&(e.xp6(1),e.Q6J("diameter",20))}function te(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"Save"),e.qZA())}let oe=(()=>{class o{constructor(t,i,n){this._token=t,this._user=i,this._auth=n,this.setIsLoading=new e.vpe,this.setNewStatus=new e.vpe,this.idType="Passport",this.validIDTypes=["Passport","Driver's License","Identity Card"],this.frontFile=null,this.backFile=null,this.frontPreview=null,this.backPreview=null,this.frontFilename="",this.backFilename="",this.subscription=new m.w0,this._snack=(0,e.f3M)(v.ux),this.isLoading=!1}ngOnInit(){this.token=this._token.decodedToken(),console.log(this.idType)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onFileChange(t,i){const n=t.target.files[0];if(n){const a=new FileReader;a.onload=c=>{"front"===i?(this.frontFile=n,this.frontPreview=c.target.result,this.frontFilename=`${n.name}`):"back"===i&&(this.backFile=n,this.backPreview=c.target.result,this.backFilename=`${n.name}`)},a.readAsDataURL(n)}}onSubmit(){if(this.frontFile&&this.backFile&&""!==this.idType&&""!==this.backFilename&&""!==this.frontFilename){this.isLoading=!0,this.setIsLoading.emit(!0);const t=new FormData;t.append("id",this.token.sub),t.append("user",this.token.sub),t.append("status","pending"),t.append("type",this.idType),t.append("idFrontFilename",this.frontFilename),t.append("idBackFilename",this.backFilename),t.append("idFront",this.frontFile),t.append("idBack",this.backFile),this.subscription.add(this._auth.csrfToken().pipe((0,M.w)(i=>this._user.verifyAccountById(t,i.token)),(0,O.K)(i=>i)).subscribe({next:i=>{this.isLoading=!1,this.setIsLoading.emit(!1),this.setNewStatus.emit("pending")},error:i=>{this._snack.open(i.error.code,"",{duration:1e3}),this.isLoading=!1,this.setIsLoading.emit(!1)}}))}else alert("Please upload both front and back views of the ID.")}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(x.B),e.Y36(b.K),e.Y36(Z.e))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-upload-photo"]],outputs:{setIsLoading:"setIsLoading",setNewStatus:"setNewStatus"},decls:27,vars:12,consts:[[1,"upload_photo_container"],[1,"upload_content"],[1,"form"],[1,"custom-select-wrapper"],[3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"upload_content_wrapper"],[1,"upload_photo_front"],[1,"img_btn_title"],[1,"form-group"],["for","frontId"],["class","_img_wrapper",4,"ngIf"],["type","file","id","frontId",1,"custom-file-input",3,"disabled","change"],[1,"upload_photo_back"],["for","backId"],["type","file","id","backId",1,"custom-file-input",3,"disabled","change"],[1,"content_footer"],["type","button",1,"main-button",3,"disabled","click"],[4,"ngIf"],[3,"value"],[1,"_img_wrapper"],["src","../assets/images/main/account-settings/front.png","alt","image","loading","lazy","draggable","false"],["alt","image","loading","lazy","draggable","false",3,"src"],["src","../assets/images/main/account-settings/back.png","alt","image","loading","lazy","draggable","false"],[3,"diameter"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"select",4),e.NdJ("ngModelChange",function(c){return n.idType=c}),e.YNc(5,K,2,2,"option",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8),e._uU(9,"Upload Front I.D"),e.qZA(),e.TgZ(10,"div",9)(11,"label",10),e.YNc(12,W,2,0,"div",11),e.YNc(13,$,2,1,"div",11),e.qZA(),e.TgZ(14,"input",12),e.NdJ("change",function(c){return n.onFileChange(c,"front")}),e.qZA()()(),e.TgZ(15,"div",13)(16,"div",8),e._uU(17,"Upload Back I.D"),e.qZA(),e.TgZ(18,"div",9)(19,"label",14),e.YNc(20,X,2,0,"div",11),e.YNc(21,ee,2,1,"div",11),e.qZA(),e.TgZ(22,"input",15),e.NdJ("change",function(c){return n.onFileChange(c,"back")}),e.qZA()()()(),e.TgZ(23,"div",16)(24,"button",17),e.NdJ("click",function(){return n.onSubmit()}),e.YNc(25,ne,2,1,"span",18),e.YNc(26,te,2,0,"span",18),e.qZA()()()()()),2&i&&(e.xp6(4),e.Q6J("ngModel",n.idType)("disabled",n.isLoading),e.xp6(1),e.Q6J("ngForOf",n.validIDTypes),e.xp6(7),e.Q6J("ngIf",!n.frontPreview),e.xp6(1),e.Q6J("ngIf",n.frontPreview),e.xp6(1),e.Q6J("disabled",n.isLoading),e.xp6(6),e.Q6J("ngIf",!n.backPreview),e.xp6(1),e.Q6J("ngIf",n.backPreview),e.xp6(1),e.Q6J("disabled",n.isLoading),e.xp6(2),e.Q6J("disabled",!n.frontFile||!n.backFile||n.isLoading),e.xp6(1),e.Q6J("ngIf",!0===n.isLoading),e.xp6(1),e.Q6J("ngIf",!1===n.isLoading))},dependencies:[d.sg,d.O5,r.YN,r.Kr,r.EJ,r.JJ,r.On,h.Ou],styles:['@charset "UTF-8";.upload_photo_container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;gap:1rem}.upload_photo_container[_ngcontent-%COMP%]   .upload_header[_ngcontent-%COMP%]{flex:0;flex:none;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.upload_photo_container[_ngcontent-%COMP%]   .upload_header[_ngcontent-%COMP%]   .upload_title_wrapper[_ngcontent-%COMP%]   .upload_info_title[_ngcontent-%COMP%]{font-size:clamp(1rem,.9vw,8rem);text-align:left;font-weight:700}.upload_photo_container[_ngcontent-%COMP%]   .upload_header[_ngcontent-%COMP%]   .upload_title_wrapper[_ngcontent-%COMP%]   .upload_sub_title[_ngcontent-%COMP%]{color:#8f8f8f}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .custom-select-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:200px;margin:auto}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;font-family:Poppins-Regular;width:100%;padding:10px;font-size:16px;border:1px solid #ccc;border-radius:5px;background:transparent;appearance:none;-webkit-appearance:none;-moz-appearance:none}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .custom-select-wrapper[_ngcontent-%COMP%]:after{content:"\\25bc";position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none;font-size:16px;color:#68a968;cursor:pointer}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_front[_ngcontent-%COMP%]   .img_btn_title[_ngcontent-%COMP%], .upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_back[_ngcontent-%COMP%]   .img_btn_title[_ngcontent-%COMP%]{font-weight:700}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_front[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_back[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{border:2px dashed rgb(212,212,212);padding:1rem;height:100vh;max-height:16rem;width:100%}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_front[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_back[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;width:100%;height:100%}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_front[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   ._img_wrapper[_ngcontent-%COMP%], .upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_back[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   ._img_wrapper[_ngcontent-%COMP%]{max-width:100%;height:100%}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_front[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   ._img_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_back[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   ._img_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_front[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover, .upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_back[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{opacity:90%}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;opacity:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .content_footer[_ngcontent-%COMP%]{flex:0;margin-top:1rem}']})}return o})();var I=p(4859);const ie=["video"],re=["canvas"];function ae(o,s){1&o&&(e.TgZ(0,"div",11)(1,"span"),e._UZ(2,"mat-spinner",12),e._uU(3,"Loading Camera..."),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("diameter",15))}let ce=(()=>{class o{constructor(t,i){this.dialogRef=t,this.type=i,this.capturedFile=null,this.isLoading=!1,this.imagePreview=null,this.name=null,this.mediaStream=null}ngOnInit(){this.isLoading=!0,navigator.mediaDevices.getUserMedia({video:!0}).then(t=>{this.mediaStream=t,this.video.nativeElement.srcObject=t,this.isLoading=!1}).catch(t=>{this.isLoading=!1,console.error("Error accessing the camera:",t)})}captureImage(){const t=this.video.nativeElement,i=this.canvas.nativeElement,n=i.getContext("2d");n&&(n.drawImage(t,0,0,i.width,i.height),console.log(i.width,i.height),i.toBlob(a=>{a&&(this.capturedFile=new File([a],`id-${this.type}.png`,{type:"image/png"}),this.name=`id-${this.type}.png`,this.convertToBase64(a))},"image/png"))}convertToBase64(t){const i=new FileReader;i.onloadend=()=>{this.imagePreview=i.result},i.readAsDataURL(t)}uploadImage(){this.capturedFile?(this.stopCamera(),this.dialogRef.close({success:!0,file:this.capturedFile,preview:this.imagePreview,type:this.type,name:this.name})):console.log("No image captured")}stopCamera(){this.mediaStream?.getTracks().forEach(t=>t.stop()),this.video.nativeElement.srcObject=null,this.mediaStream=null}cancelCamera(){this.stopCamera(),this.dialogRef.close({success:!1})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.so),e.Y36(l.WI))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-camera"]],viewQuery:function(i,n){if(1&i&&(e.Gf(ie,5),e.Gf(re,5)),2&i){let a;e.iGM(a=e.CRH())&&(n.video=a.first),e.iGM(a=e.CRH())&&(n.canvas=a.first)}},decls:15,vars:3,consts:[[1,"camera"],[1,"camera-wrapper"],[1,"camera-video"],["width","320","height","240","autoplay",""],["video",""],["class","camera-loading",4,"ngIf"],["width","320","height","240"],["canvas",""],[1,"button-wrapper"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","",3,"click"],[1,"camera-loading"],[3,"diameter"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"video",3,4),e.YNc(5,ae,4,1,"div",5),e.qZA(),e._UZ(6,"canvas",6,7),e.qZA(),e.TgZ(8,"div",8)(9,"button",9),e.NdJ("click",function(){return n.captureImage()}),e._uU(10," Capture Image "),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return n.uploadImage()}),e._uU(12," Proceed "),e.qZA(),e.TgZ(13,"button",10),e.NdJ("click",function(){return n.cancelCamera()}),e._uU(14,"Cancel"),e.qZA()()()),2&i&&(e.xp6(5),e.Q6J("ngIf",n.isLoading),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(2),e.Q6J("disabled",n.isLoading))},dependencies:[d.O5,h.Ou,I.lW],styles:[".camera[_ngcontent-%COMP%]{padding:1rem;font-family:Poppins-Regular}.camera-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;align-items:center;justify-content:center;gap:.5rem;padding:1rem 0}.camera-wrapper[_ngcontent-%COMP%]   .camera-video[_ngcontent-%COMP%]{position:relative}.camera-wrapper[_ngcontent-%COMP%]   .camera-loading[_ngcontent-%COMP%]{position:absolute;inset:0;display:grid;place-items:center;background-color:#d3d3d3;font-weight:700}.camera-wrapper[_ngcontent-%COMP%]   .camera-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.button-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#63ab68;color:#fff}"]})}return o})();function se(o,s){if(1&o&&(e.TgZ(0,"option",16),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.s9C("value",t._ids),e.xp6(1),e.hij(" ",t._ids," ")}}function de(o,s){1&o&&(e.TgZ(0,"span"),e._UZ(1,"mat-spinner",17),e.qZA()),2&o&&(e.xp6(1),e.Q6J("diameter",20))}function pe(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"Save"),e.qZA())}let le=(()=>{class o{constructor(t,i,n,a){this.dialog=t,this._user=i,this._token=n,this._auth=a,this.setIsLoading=new e.vpe,this.setNewStatus=new e.vpe,this.frontFile=null,this.backFile=null,this.frontPreview=null,this.backPreview=null,this.frontFilename="",this.backFilename="",this.validIDType=[{_ids:"Passport"},{_ids:"Driver's License"},{_ids:"Identity Card"}],this.type="Passport",this.imgPlaceholder="assets/images/customer-dashboard/create-listing/cameraadd.png",this.subscription=new m.w0,this._snack=(0,e.f3M)(v.ux),this.isLoading=!1}ngOnInit(){this.token=this._token.decodedToken()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}handleCaptureCamera(t){this.isLoading||this.dialog.open(ce,{disableClose:!0,data:t}).afterClosed().subscribe(n=>{if(n.success){const{file:a,preview:c,type:f,name:C}=n;console.log(C),"front"===f&&(this.frontFile=a,this.frontPreview=c,this.frontFilename=C),"back"===f&&(this.backFile=a,this.backPreview=c,this.backFilename=C)}})}onSubmit(){if(this.frontFile&&this.backFile&&""!==this.type){this.isLoading=!0,this.setIsLoading.emit(!0);const t=new FormData;t.append("id",this.token.sub),t.append("user",this.token.sub),t.append("type",this.type),t.append("status","pending"),t.append("idFrontFilename",this.frontFilename),t.append("idBackFilename",this.backFilename),t.append("idFront",this.frontFile),t.append("idBack",this.backFile),this.subscription.add(this._auth.csrfToken().pipe((0,M.w)(i=>this._user.verifyAccountById(t,i.token)),(0,O.K)(i=>i)).subscribe({next:i=>{this.isLoading=!1,this.setIsLoading.emit(!1),this.setNewStatus.emit("pending")},error:i=>{this.isLoading=!1,this.setIsLoading.emit(!1),this._snack.open(i.error.code,"",{duration:1e3})}}))}else alert("Please upload both front and back views of the ID.")}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.uw),e.Y36(b.K),e.Y36(x.B),e.Y36(Z.e))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-capture-photo"]],outputs:{setIsLoading:"setIsLoading",setNewStatus:"setNewStatus"},decls:27,vars:8,consts:[[1,"upload_photo_container"],[1,"upload_content"],[1,"form"],[1,"custom-select-wrapper"],[3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"upload_content_wrapper"],[1,"upload_photo_front"],[1,"img_btn_title"],[1,"form-group"],[1,"_img_wrapper",3,"click"],["alt","camera-Icon",1,"custom-icon",3,"src"],[1,"upload_photo_back"],[1,"content_footer"],["type","button",1,"main-button",3,"disabled","click"],[4,"ngIf"],[3,"value"],[3,"diameter"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"select",4),e.NdJ("ngModelChange",function(c){return n.type=c}),e.YNc(5,se,2,2,"option",5),e.qZA()(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8),e._uU(9,"Upload Front I.D"),e.qZA(),e.TgZ(10,"div",9)(11,"div",10),e.NdJ("click",function(){return n.handleCaptureCamera("front")}),e._UZ(12,"img",11),e.TgZ(13,"span"),e._uU(14,"Capture Front I.D"),e.qZA()()()(),e.TgZ(15,"div",12)(16,"div",8),e._uU(17,"Upload Back I.D"),e.qZA(),e.TgZ(18,"div",9)(19,"div",10),e.NdJ("click",function(){return n.handleCaptureCamera("back")}),e._UZ(20,"img",11),e.TgZ(21,"span"),e._uU(22,"Capture Back I.D"),e.qZA()()()()(),e.TgZ(23,"div",13)(24,"button",14),e.NdJ("click",function(){return n.onSubmit()}),e.YNc(25,de,2,1,"span",15),e.YNc(26,pe,2,0,"span",15),e.qZA()()()()()),2&i&&(e.xp6(4),e.Q6J("ngModel",n.type)("disabled",n.isLoading),e.xp6(1),e.Q6J("ngForOf",n.validIDType),e.xp6(7),e.Q6J("src",n.frontPreview||n.imgPlaceholder,e.LSH),e.xp6(8),e.Q6J("src",n.backPreview||n.imgPlaceholder,e.LSH),e.xp6(4),e.Q6J("disabled",!n.frontFile||!n.backFile),e.xp6(1),e.Q6J("ngIf",!0===n.isLoading),e.xp6(1),e.Q6J("ngIf",!1===n.isLoading))},dependencies:[d.sg,d.O5,r.YN,r.Kr,r.EJ,r.JJ,r.On,h.Ou],styles:['@charset "UTF-8";.upload_photo_container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;gap:1rem}.upload_photo_container[_ngcontent-%COMP%]   .upload_header[_ngcontent-%COMP%]{flex:0;flex:none;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.upload_photo_container[_ngcontent-%COMP%]   .upload_header[_ngcontent-%COMP%]   .upload_title_wrapper[_ngcontent-%COMP%]   .upload_info_title[_ngcontent-%COMP%]{font-size:clamp(1rem,.9vw,8rem);text-align:left;font-weight:700}.upload_photo_container[_ngcontent-%COMP%]   .upload_header[_ngcontent-%COMP%]   .upload_title_wrapper[_ngcontent-%COMP%]   .upload_sub_title[_ngcontent-%COMP%]{color:#8f8f8f}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .custom-select-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;width:200px;margin:auto}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;font-family:Poppins-Regular;width:100%;padding:10px;font-size:16px;border:1px solid #ccc;border-radius:5px;background:transparent;appearance:none;-webkit-appearance:none;-moz-appearance:none}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .custom-select-wrapper[_ngcontent-%COMP%]:after{content:"\\25bc";position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none;font-size:16px;color:#68a968;cursor:pointer}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_front[_ngcontent-%COMP%]   .img_btn_title[_ngcontent-%COMP%], .upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_back[_ngcontent-%COMP%]   .img_btn_title[_ngcontent-%COMP%]{font-weight:700}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_front[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%], .upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_back[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{border:2px dashed rgb(212,212,212);padding:1rem;height:100vh;max-height:16rem;width:100%}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_front[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ._img_wrapper[_ngcontent-%COMP%], .upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_back[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ._img_wrapper[_ngcontent-%COMP%]{cursor:pointer;max-width:100%;height:100%;margin:auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_front[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ._img_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .upload_photo_back[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   ._img_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:10rem;max-height:10rem;width:100%;height:100%;object-fit:contain}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .custom-file-input[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;opacity:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.upload_photo_container[_ngcontent-%COMP%]   .upload_content[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .upload_content_wrapper[_ngcontent-%COMP%]   .content_footer[_ngcontent-%COMP%]{flex:0;margin-top:1rem}']})}return o})();function _e(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",10)(1,"app-upload-photo",11),e.NdJ("setNewStatus",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.handleSetNewStatus(n))})("setIsLoading",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.handleSetLoading(n))}),e.qZA()()}}function ge(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",12)(1,"app-capture-photo",11),e.NdJ("setNewStatus",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.handleSetNewStatus(n))})("setIsLoading",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.handleSetLoading(n))}),e.qZA()()}}const N=function(o){return{active:o}};let k=(()=>{class o{constructor(t){this.router=t,this.setNewStatus=new e.vpe,this.isLoading=!1,this.govermentIdSelect=[{idName:"Driver's License"},{idName:"Passport"},{idName:"Idetity Card"}],this.selectedTab="tab1"}selectTab(t){this.isLoading||(this.selectedTab=t)}handleSetLoading(t){this.isLoading=t}handleSetNewStatus(t){this.setNewStatus.emit(t)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(P.F0))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-government-id"]],outputs:{setNewStatus:"setNewStatus"},decls:21,vars:8,consts:[[1,"governmentId"],[1,"header"],[1,"title_wrapper"],[1,"info_title"],[1,"sub_title"],[1,"governmentId_tab"],[1,"custom-tabs"],[1,"tab","animated-border",3,"ngClass","click"],["class","governmentId_upload_photo",4,"ngIf"],["class","governmentId_capture_photo",4,"ngIf"],[1,"governmentId_upload_photo"],[3,"setNewStatus","setIsLoading"],[1,"governmentId_capture_photo"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Government ID"),e.qZA(),e.TgZ(5,"div",4),e._uU(6," We\u2019ll need you to add an official government ID. This step helps make sure you\u2019re really you."),e._UZ(7,"br"),e._uU(8," Make sure that your profile details matches the details on your id. "),e.qZA()()(),e.TgZ(9,"section",5)(10,"div",6)(11,"div",7),e.NdJ("click",function(){return n.selectTab("tab1")}),e.TgZ(12,"mat-icon"),e._uU(13,"cloud_upload"),e.qZA(),e._uU(14," Upload Photo "),e.qZA(),e.TgZ(15,"div",7),e.NdJ("click",function(){return n.selectTab("tab2")}),e.TgZ(16,"mat-icon"),e._uU(17,"camera"),e.qZA(),e._uU(18," Take a Photo "),e.qZA()()(),e.YNc(19,_e,2,0,"div",8),e.YNc(20,ge,2,0,"div",9),e.qZA()),2&i&&(e.xp6(11),e.Q6J("ngClass",e.VKq(4,N,"tab1"===n.selectedTab)),e.xp6(4),e.Q6J("ngClass",e.VKq(6,N,"tab2"===n.selectedTab)),e.xp6(4),e.Q6J("ngIf","tab1"===n.selectedTab),e.xp6(1),e.Q6J("ngIf","tab2"===n.selectedTab))},dependencies:[d.mk,d.O5,u.Hw,oe,le],styles:['.governmentId{font-family:Poppins-Regular;flex:1;display:flex;flex-direction:column;background-color:#fff;height:100%}.governmentId .header{flex:0;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.governmentId .header .title_wrapper .info_title{margin-top:1rem;font-size:1.25rem;text-align:left;font-weight:700}.governmentId .header .title_wrapper .sub_title{color:#8f8f8f;margin-top:.5rem}.governmentId .governmentId_tab{flex:0;display:flex;flex-direction:column}.governmentId .governmentId_tab .custom-tabs{display:flex;justify-content:flex-start;overflow-x:auto;gap:1rem;padding:1rem 1rem 0;width:100%}.governmentId .governmentId_tab .tab{cursor:pointer;display:flex;align-items:center;white-space:pre;border-bottom:none;padding-bottom:.3rem}.governmentId .governmentId_tab .tab.active,.governmentId .governmentId_tab .tab:hover{font-weight:700;color:#63ab68}.governmentId .governmentId_tab .tab-content{border-radius:0 0 5px 5px}.governmentId .governmentId_tab .animated-border{border-bottom:none;position:relative;cursor:pointer}.governmentId .governmentId_tab .animated-border:after{content:"";display:block;width:0;height:2px;background-color:#63ab68;position:absolute;bottom:0;left:0;transition:width .3s ease-in-out}.governmentId .governmentId_tab .animated-border:hover:after,.governmentId .governmentId_tab .animated-border.active:after{width:100%}.governmentId .governmentId_upload_photo,.governmentId .governmentId_capture_photo{flex:1;padding:1rem}@media only screen and (max-width: 1080px){.governmentId h1{padding-left:1rem}}@media only screen and (max-width: 600px){.governmentId .governmentId_tab .custom-tabs{justify-content:center!important}}\n'],encapsulation:2})}return o})();function me(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-input-error-message",15),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("form",t.updateForm)("errors",t.emailErrors)}}let ue=(()=>{class o{constructor(t,i,n,a){this.fb=t,this.dialog=i,this.data=n,this.util=a,this.emailErrors=[{field:"email",error:"required",message:"Email is required."},{field:"email",error:"email",message:"Invalid email address."},{field:"email",error:"maxlength",message:"Email must not exceed 100 characters."}],this.verifiedInfo=n}ngOnInit(){this.updateForm=this.fb.group({email:new r.NI(this.verifiedInfo,{validators:[r.kI.required,r.kI.email,r.kI.maxLength(100)]})})}onSubmit(t){if(!t.valid)return;const i=t.getRawValue();this.dialog.close({email:i.email})}closeDialog(){this.dialog.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(r.qu),e.Y36(l.so),e.Y36(l.WI),e.Y36(y.M))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-email-address"]],decls:20,vars:2,consts:[[1,"email_address_container"],[1,"header"],[1,"title_wrapper"],[1,"info_title"],[1,"sub_title"],[1,"close-button-normal",3,"click"],[2,"margin-top","3px"],[1,"content"],[3,"formGroup","ngSubmit"],[1,"input-wrapper"],[1,"label"],["type","text","name","email","placeholder","Enter your email address name","formControlName","email","required",""],[4,"ngIf"],[1,"_btn"],[1,"main-button"],[3,"form","errors"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Email address"),e.qZA(),e.TgZ(5,"div",4),e._uU(6,"Use an address you\u2019ll always have access to."),e.qZA()(),e.TgZ(7,"div",5),e.NdJ("click",function(){return n.closeDialog()}),e.TgZ(8,"mat-icon",6),e._uU(9,"close"),e.qZA()()(),e.TgZ(10,"div",7)(11,"form",8),e.NdJ("ngSubmit",function(){return n.onSubmit(n.updateForm)}),e.TgZ(12,"div",9)(13,"div",10),e._uU(14,"Email Address"),e.qZA(),e._UZ(15,"input",11),e.YNc(16,me,2,2,"ng-container",12),e.qZA(),e.TgZ(17,"div",13)(18,"button",14),e._uU(19,"Save"),e.qZA()()()()()),2&i&&(e.xp6(11),e.Q6J("formGroup",n.updateForm),e.xp6(5),e.Q6J("ngIf",n.util.isFormInputValid(n.updateForm,"email")))},dependencies:[d.O5,u.Hw,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,T.T],styles:[".email_address_container[_ngcontent-%COMP%]{background-color:#fff;padding:1rem;display:flex;flex-direction:column;gap:1rem;height:100%}.email_address_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex:none;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.email_address_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .info_title[_ngcontent-%COMP%]{font-size:clamp(1rem,.9vw,8rem);text-align:left;font-weight:700}.email_address_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .sub_title[_ngcontent-%COMP%]{color:#8f8f8f}.email_address_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .email_address_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.email_address_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;flex:1;display:flex;flex-direction:column;justify-content:center}.email_address_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:.3rem}.email_address_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1rem;border:2px solid #63AB68;width:100%;border-radius:10px;font-family:Poppins-Medium;font-size:15px}.email_address_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .val-err-msg[_ngcontent-%COMP%]{font-size:15px;margin-top:5px;font-family:Poppins-Regular}.email_address_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._btn[_ngcontent-%COMP%]{flex:none}.email_address_container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}"]})}return o})();const fe=[{field:"unit",error:"required",message:"Unit is required."},{field:"unit",error:"maxlength",message:"Unit must not exceed 20 characters."}],he=[{field:"street",error:"required",message:"Street is required."},{field:"street",error:"maxlength",message:"Street must not exceed 100 characters."}],Ce=[{field:"barangay",error:"required",message:"Barangay is required."},{field:"barangay",error:"maxlength",message:"Barangay must not exceed 100 characters."}],Pe=[{field:"city",error:"required",message:"City is required."},{field:"city",error:"maxlength",message:"City must not exceed 100 characters."}],Me=[{field:"province",error:"required",message:"Province is required."},{field:"province",error:"maxlength",message:"Province must not exceed 100 characters."}],Oe=[{field:"country",error:"required",message:"Country is required."},{field:"country",error:"maxlength",message:"Country must not exceed 100 characters."}],ve=[{field:"zip",error:"required",message:"Zip Code is required."},{field:"zip",error:"maxlength",message:"Zip Code must not exceed 100 characters."}];function be(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-input-error-message",28),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("form",t.updateForm)("errors",t.unitErrors)}}function xe(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-input-error-message",28),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("form",t.updateForm)("errors",t.streetErrors)}}function we(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-input-error-message",28),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("form",t.updateForm)("errors",t.barangayErrors)}}function ye(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-input-error-message",28),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("form",t.updateForm)("errors",t.cityErrors)}}function Ze(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-input-error-message",28),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("form",t.updateForm)("errors",t.provinceErrors)}}function Te(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-input-error-message",28),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("form",t.updateForm)("errors",t.countryErrors)}}function Ie(o,s){if(1&o&&(e.ynx(0),e._UZ(1,"app-input-error-message",28),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("form",t.updateForm)("errors",t.zipErrors)}}function Ne(o,s){1&o&&(e.TgZ(0,"span"),e._UZ(1,"mat-spinner",29),e.qZA()),2&o&&(e.xp6(1),e.Q6J("diameter",20))}function ke(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"Save"),e.qZA())}let Ae=(()=>{class o{constructor(t,i,n,a,c,f,C){this.fb=t,this.util=i,this.dialog=n,this.data=a,this._token=c,this.userService=f,this._auth=C,this.isLoading=!1,this.unitErrors=fe,this.streetErrors=he,this.barangayErrors=Ce,this.cityErrors=Pe,this.provinceErrors=Me,this.countryErrors=Oe,this.zipErrors=ve,this._sub=new m.w0,this._snack=(0,e.f3M)(v.ux),this.verifiedInfo=a,this.token=this._token.decodedToken()}ngOnInit(){this.updateForm=this.fb.group({unit:new r.NI(this.verifiedInfo.unit,[r.kI.required,r.kI.maxLength(20)]),street:new r.NI(this.verifiedInfo.street,[r.kI.required,r.kI.maxLength(100)]),barangay:new r.NI(this.verifiedInfo.brgy,[r.kI.required,r.kI.maxLength(100)]),city:new r.NI(this.verifiedInfo.city,[r.kI.required,r.kI.maxLength(100)]),province:new r.NI(this.verifiedInfo.province,[r.kI.required,r.kI.maxLength(100)]),country:new r.NI(this.verifiedInfo.country,[r.kI.required,r.kI.maxLength(100)]),zip:new r.NI(this.verifiedInfo.zip,[r.kI.required,r.kI.maxLength(10)])})}onSubmit(t){if(!t.valid)return;this.isLoading=!0;const i=t.getRawValue();let n={unit:i.unit,street:i.street,brgy:i.barangay,city:i.city,province:i.province,country:i.country,zip:i.zip,type:"address"};const a=this.token.sub;this._sub.add(this._auth.csrfToken().pipe((0,M.w)(c=>this.userService.verificationProfileUpdate(n,a,c.token)),(0,O.K)(c=>c)).subscribe({next:c=>{this.dialog.close({unit:c.profile.address.unit,street:c.profile.address.street,brgy:c.profile.address.brgy,city:c.profile.address.city,province:c.profile.address.province,country:c.profile.address.country,zip:c.profile.address.zip})},error:c=>{this._snack.open(c.error.code,"",{duration:1e3})},complete:()=>{this.isLoading=!1}}))}closeDialog(){this.isLoading||this.dialog.close()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(r.qu),e.Y36(y.M),e.Y36(l.so),e.Y36(l.WI),e.Y36(x.B),e.Y36(b.K),e.Y36(Z.e))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-address"]],decls:56,vars:18,consts:[[1,"your_address"],[1,"header"],[1,"title_wrapper"],[1,"info_title"],[1,"sub_title"],[1,"close-button-normal",3,"click"],[2,"margin-top","3px"],[1,"where-is-located-wrapper"],[3,"formGroup","ngSubmit"],[1,"wrapper"],[1,"input-wrapper"],["for","unit",1,"label"],["type","number","name","unit","placeholder","Enter your unit","formControlName","unit","required","",3,"disabled"],[4,"ngIf"],["for","street",1,"label"],["type","text","name","street","placeholder","Enter your street","formControlName","street","required","",3,"disabled"],["for","barangay",1,"label"],["type","text","id","barangay","name","barangay","placeholder","Enter your barangay","formControlName","barangay","required","",3,"disabled"],["for","city",1,"label"],["type","text","id","city","name","city","placeholder","Enter your city","formControlName","city","required","",3,"disabled"],["for","province",1,"label"],["type","text","name","province","placeholder","Enter your province","formControlName","province","required","",3,"disabled"],["for","country",1,"label"],["type","text","name","country","placeholder","Enter your country","formControlName","country","required","",3,"disabled"],["for","zip",1,"label"],["type","number","id","zip","name","zip","placeholder","Enter your zip code","formControlName","zip","required","",3,"disabled"],[1,"_btn"],["type","submit",1,"main-button",3,"disabled"],[3,"form","errors"],[3,"diameter"]],template:function(i,n){1&i&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Your Address"),e.qZA(),e.TgZ(5,"div",4),e._uU(6," Use a permanent address where you can receive mail. "),e.qZA()(),e.TgZ(7,"div",5),e.NdJ("click",function(){return n.closeDialog()}),e.TgZ(8,"mat-icon",6),e._uU(9,"close"),e.qZA()()(),e.TgZ(10,"div"),e._UZ(11,"hr"),e.qZA(),e.TgZ(12,"div",7)(13,"form",8),e.NdJ("ngSubmit",function(){return n.onSubmit(n.updateForm)}),e.TgZ(14,"div",9)(15,"div",10)(16,"label",11),e._uU(17,"Unit"),e.qZA(),e._UZ(18,"input",12),e.YNc(19,be,2,2,"ng-container",13),e.qZA(),e.TgZ(20,"div",10)(21,"label",14),e._uU(22,"Street"),e.qZA(),e._UZ(23,"input",15),e.YNc(24,xe,2,2,"ng-container",13),e.qZA(),e.TgZ(25,"div",10)(26,"label",16),e._uU(27,"Barangay"),e.qZA(),e._UZ(28,"input",17),e.YNc(29,we,2,2,"ng-container",13),e.qZA(),e.TgZ(30,"div",10)(31,"label",18),e._uU(32,"City"),e.qZA(),e._UZ(33,"input",19),e.YNc(34,ye,2,2,"ng-container",13),e.qZA(),e.TgZ(35,"div",10)(36,"label",20),e._uU(37,"Province"),e.qZA(),e._UZ(38,"input",21),e.YNc(39,Ze,2,2,"ng-container",13),e.qZA(),e.TgZ(40,"div",10)(41,"label",22),e._uU(42,"Country"),e.qZA(),e._UZ(43,"input",23),e.YNc(44,Te,2,2,"ng-container",13),e.qZA(),e.TgZ(45,"div",10)(46,"label",24),e._uU(47,"Zip Code"),e.qZA(),e._UZ(48,"input",25),e.YNc(49,Ie,2,2,"ng-container",13),e.qZA()(),e.TgZ(50,"div"),e._UZ(51,"hr"),e.qZA(),e.TgZ(52,"div",26)(53,"button",27),e.YNc(54,Ne,2,1,"span",13),e.YNc(55,ke,2,0,"span",13),e.qZA()()()()()),2&i&&(e.xp6(13),e.Q6J("formGroup",n.updateForm),e.xp6(5),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.util.isFormInputValid(n.updateForm,"unit")),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.util.isFormInputValid(n.updateForm,"street")),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.util.isFormInputValid(n.updateForm,"barangay")),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.util.isFormInputValid(n.updateForm,"city")),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.util.isFormInputValid(n.updateForm,"province")),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.util.isFormInputValid(n.updateForm,"country")),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.util.isFormInputValid(n.updateForm,"zip")),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",!0===n.isLoading),e.xp6(1),e.Q6J("ngIf",!1===n.isLoading))},dependencies:[d.O5,u.Hw,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.sg,r.u,T.T,h.Ou],styles:[".your_address[_ngcontent-%COMP%]{max-width:35rem;margin:auto;position:relative;display:flex;flex-direction:column;height:100%;overflow-y:auto;gap:.5rem}.your_address[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:1rem 1rem .5rem;flex:0;width:100%;display:flex;flex-direction:row;justify-content:space-between}.your_address[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]{flex:1}.your_address[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .info_title[_ngcontent-%COMP%]{font-size:clamp(1rem,.9vw,8rem);text-align:left;font-weight:700}.your_address[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .sub_title[_ngcontent-%COMP%]{color:#8f8f8f}.your_address[_ngcontent-%COMP%]   .where-is-located-wrapper[_ngcontent-%COMP%], .your_address[_ngcontent-%COMP%]   .where-is-located-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-y:auto}.your_address[_ngcontent-%COMP%]   .where-is-located-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{gap:.5rem;flex:1;display:flex;max-height:100%;overflow-y:auto;flex-direction:column;gap:.8rem;width:100%;margin:auto}.your_address[_ngcontent-%COMP%]   .where-is-located-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{padding:0 1rem}.your_address[_ngcontent-%COMP%]   .where-is-located-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:.3rem}.your_address[_ngcontent-%COMP%]   .where-is-located-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1rem;border:2px solid #63AB68;width:100%;border-radius:10px;font-family:Poppins-Medium;font-size:15px}.your_address[_ngcontent-%COMP%]   .where-is-located-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .your_address[_ngcontent-%COMP%]   .where-is-located-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.your_address[_ngcontent-%COMP%]   .where-is-located-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.your_address[_ngcontent-%COMP%]   .where-is-located-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ._btn[_ngcontent-%COMP%]{flex:none;padding:1rem}"]})}return o})();function Ue(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-government-id",6),e.NdJ("setNewStatus",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.handleChangeStatus(n))}),e.qZA()}}function Fe(o,s){1&o&&(e.TgZ(0,"div")(1,"span",7),e._UZ(2,"mat-spinner",8),e._uU(3," Checking your account verication status."),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("diameter",15))}function Je(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," Verification of you account is still on process. Please wait for a while. "),e.qZA())}function qe(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1,"Your account has been verified"),e.qZA())}const Le=[{path:"",component:(()=>{class o{constructor(t,i,n,a){this.dialog=t,this._token=i,this._user=n,this.util=a,this.status="loading",this.legalName={fName:"",lName:""},this.preferedName="",this.emailAddress="",this.phoneNumber="",this.address={unit:"",street:"",brgy:"",city:"",province:"",country:"",zip:""},this.governmentId="",this._sub=new m.w0,this._snack=(0,e.f3M)(v.ux),this.token=this._token.decodedToken(),this._getUserProfile(this.token.sub)}ngOnInit(){this._sub.add(this._user.checkVerificationStatus(this.token.sub).subscribe({next:t=>{this.status=t.status?t.status:"invalid"},error:t=>{this._snack.open(t.error.code,"",{duration:1e3}),this.status="invalid"}}))}_getUserProfile(t){this._sub.add(this._user.getUserProfile(t).subscribe({next:i=>{const{name:n,address:a,contact:c}=i.profile??{},{email:f}=i.auth;this.legalName={fName:n.fName,lName:n.lName},this.emailAddress=f,this.phoneNumber=c,console.log(a),a&&(this.address={unit:a.unit,street:a.street,brgy:a.brgy,city:a.city,province:a.province,country:a.country,zip:a.zip})},error:({error:i})=>{this._snack.open(i.code,"",{duration:1e3})}}))}handleChangeStatus(t){this.status=t}ngOnDestroy(){this._sub.unsubscribe()}dialogLegalName(){this.dialog.open(L,{width:"100%",height:"100%",maxHeight:"22.5rem",maxWidth:"35rem",data:this.legalName,disableClose:!0}).afterClosed().subscribe(i=>{i&&(this.legalName.fName=i.fName,this.legalName.lName=i.lName)})}dialogpreferedName(){this.dialog.open(Y,{width:"100%",height:"100%",maxHeight:"18rem",maxWidth:"35rem",data:this.preferedName})}dialogemailAddress(){this.dialog.open(ue,{width:"100%",height:"100%",maxHeight:"15rem",maxWidth:"35rem",data:this.emailAddress}).afterClosed().subscribe(i=>{i&&(this.legalName.fName=i.fName,this.legalName.lName=i.lName)})}dialogphoneNumber(){this.dialog.open(H,{width:"100%",height:"100%",maxHeight:"18rem",maxWidth:"35rem",data:this.phoneNumber})}dialogyourAddress(){this.dialog.open(Ae,{width:"100%",height:"100%",maxHeight:"50rem",maxWidth:"35rem",data:this.address,disableClose:!0}).afterClosed().subscribe(i=>{i&&(this.address={unit:i.unit,street:i.street,brgy:i.brgy,city:i.city,province:i.province,country:i.country,zip:i.zip})})}dialoggovermentID(){this.dialog.open(k,{width:"100%",height:"100%",maxWidth:"55rem",maxHeight:"55rem",data:""})}addressHaveValue(t){return Object.values(t).every(i=>""!==i&&null!=i)}get nickNameBtnText(){return this.preferedName?"Edit":"Add"}get nickNameTextValue(){return this.preferedName?this.preferedName:"Not Provided"}get emailBtnText(){return this.emailAddress?"Edit":"Add"}get emailTextValue(){return this.emailAddress?this.emailAddress:"Not Provided"}get contactClass(){return this.phoneNumber?"verify_value":"custom_subtitle_number"}get contactBtnText(){return this.phoneNumber?"Edit":"Add"}get contactTextValue(){return this.phoneNumber?`+63${this.phoneNumber}`:"Add a number so confirmed guests and TaraGo can get in touch. You can add other numbers and choose how they\u2019re used."}get nameBtnText(){const{fName:t,lName:i}=this.legalName;return t&&i?"Edit":"Add"}get nameTextValue(){const{fName:t,lName:i}=this.legalName;return t&&i?`${t} ${i}`:"Not Provided"}get addressBtnText(){return this.addressHaveValue(this.address)?"Edit":"Add"}get addressTextValue(){return!0===this.addressHaveValue(this.address)?this.util.constructAddress(this.address):"Not Provided"}get govIdBtnText(){return this.governmentId?"Edit":"Add"}get govIdTextValue(){return this.governmentId?this.governmentId:"Not Provided"}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.uw),e.Y36(x.B),e.Y36(b.K),e.Y36(y.M))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-account-verification"]],decls:9,vars:4,consts:[[1,"account-verification"],[1,"header"],[1,"title"],[1,"content"],[3,"setNewStatus",4,"ngIf"],[4,"ngIf"],[3,"setNewStatus"],[2,"display","flex","align-items","center","justify-content","flex-start","gap","10px"],[3,"diameter"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Account Verification"),e.qZA()(),e.TgZ(4,"div",3),e.YNc(5,Ue,1,0,"app-government-id",4),e.YNc(6,Fe,4,1,"div",5),e.YNc(7,Je,2,0,"div",5),e.YNc(8,qe,2,0,"div",5),e.qZA()()),2&i&&(e.xp6(5),e.Q6J("ngIf","invalid"===n.status||"declined"===n.status),e.xp6(1),e.Q6J("ngIf","loading"===n.status),e.xp6(1),e.Q6J("ngIf","pending"===n.status),e.xp6(1),e.Q6J("ngIf","approved"===n.status))},dependencies:[d.O5,h.Ou,k],styles:[".account-verification[_ngcontent-%COMP%]{display:flex;flex-direction:column}.account-verification[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding:1rem}.account-verification[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:clamp(1rem,1.2vw,8rem);font-weight:bolder;color:#000}.account-verification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:1rem;padding-top:0;gap:1rem}.account-verification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .info_title[_ngcontent-%COMP%]{font-size:clamp(1rem,.9vw,8rem);padding:1rem 0 0;text-align:left;font-weight:700}.account-verification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title_wrapper[_ngcontent-%COMP%]   .sub_title[_ngcontent-%COMP%]{color:#8f8f8f}.account-verification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .verify_info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;margin-top:1rem}.account-verification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .verify_info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .verify_title[_ngcontent-%COMP%]{flex:1;color:#888}.account-verification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .verify_info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ._btn[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.account-verification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .verify_info[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   ._btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}.account-verification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .verify_info[_ngcontent-%COMP%]   .verify_value[_ngcontent-%COMP%]{color:#000;font-size:1rem}.account-verification[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .verify_info[_ngcontent-%COMP%]   .custom_subtitle_number[_ngcontent-%COMP%]{color:#888;max-width:30rem}"]})}return o})()}];let Qe=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275mod=e.oAB({type:o});static#t=this.\u0275inj=e.cJS({imports:[P.Bz.forChild(Le),P.Bz]})}return o})();var Ye=p(8255),Se=p(9549),Ee=p(3848),ze=p(5905);let Ve=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#n=this.\u0275mod=e.oAB({type:o});static#t=this.\u0275inj=e.cJS({imports:[d.ez,Qe,Ye.Tx,Se.lN,u.Ps,r.u5,r.UX,l.Is,Ee.Nh,ze.l,h.Cq,I.ot,v.ZX]})}return o})()}}]);