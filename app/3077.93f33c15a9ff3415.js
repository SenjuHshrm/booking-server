"use strict";(self.webpackChunkbooking_app=self.webpackChunkbooking_app||[]).push([[3077],{3077:(H,g,s)=>{s.r(g),s.d(g,{ProprietorTableModule:()=>z});var h=s(6895),d=s(9299),_=s(727),c=s(7974),l=s(671),t=s(4650),f=s(5412),u=s(7392);let T=(()=>{class e{constructor(a){this.dialogRef=a}closeValidation(){this.dialogRef.close()}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(f.so))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-validation-modal"]],decls:19,vars:0,consts:[[1,"more-info"],[1,"header"],[1,"title"],[1,"close-button-normal",3,"click"],[1,"content"],[1,"name_info"],[1,"footer"],[1,"main-button","custom_btn",3,"click"],[1,"main-button"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Admin "),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return i.closeValidation()}),t.TgZ(5,"mat-icon"),t._uU(6,"close"),t.qZA()()(),t._UZ(7,"hr"),t.TgZ(8,"div",4)(9,"div",5),t._uU(10," Admin Name "),t.qZA(),t.TgZ(11,"div",2),t._uU(12,"Are you sure you want to delete this account?"),t.qZA()(),t._UZ(13,"hr"),t.TgZ(14,"div",6)(15,"button",7),t.NdJ("click",function(){return i.closeValidation()}),t._uU(16,"Cancel"),t.qZA(),t.TgZ(17,"button",8),t._uU(18,"Delete"),t.qZA()()())},dependencies:[u.Hw],styles:[".more-info[_ngcontent-%COMP%]{font-family:Poppins-Regular!important;background-color:#fff;border-top-right-radius:5px;border-top-left-radius:5px;display:flex;flex-direction:column;height:100%}.more-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex:0;display:flex;width:100%;align-items:center;padding:.5rem 1rem;justify-content:space-between}.more-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.more-info[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:grid;place-items:center;text-align:center;height:100%}.more-info[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:clamp(1rem,1.2vw,4rem);line-height:1.7vw}.more-info[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:1rem 0;flex:0;display:flex;justify-content:center;gap:1rem}.more-info[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .custom_btn[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #68A968;color:#68a968}"]})}return e})();var C=s(7893),b=s(3071),v=s(9083),m=s(8255);function P(e,o){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Profile"),t.qZA())}const Z=function(e){return[e]};function M(e,o){if(1&e&&(t.TgZ(0,"td",14),t._UZ(1,"img",15),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Q6J("src",t.VKq(1,Z,a.profile),t.LSH)}}function x(e,o){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Firstname"),t.qZA())}function y(e,o){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.firstname)}}function A(e,o){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Lastname"),t.qZA())}function U(e,o){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.lastname)}}function O(e,o){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Email"),t.qZA())}function w(e,o){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.email)}}function N(e,o){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Status"),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.status)}}function D(e,o){1&e&&(t.TgZ(0,"th",13),t._uU(1,"Action"),t.qZA())}function S(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"td",14)(1,"button",16)(2,"mat-icon"),t._uU(3,"more_horiz"),t.qZA()(),t.TgZ(4,"mat-menu",null,17)(6,"button",18),t.NdJ("click",function(){const r=t.CHM(a).$implicit,p=t.oxw();return t.KtG(p.viewProfile(r.id))}),t._uU(7,"View"),t.qZA(),t.TgZ(8,"button",18),t.NdJ("click",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.openValidationModal("suspend"))}),t._uU(9,"Suspend"),t.qZA(),t.TgZ(10,"button",18),t.NdJ("click",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.openValidationModal("terminate"))}),t._uU(11,"Terminate"),t.qZA()()()}if(2&e){const a=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",a)}}function Y(e,o){1&e&&t._UZ(0,"tr",19)}function j(e,o){1&e&&t._UZ(0,"tr",20)}const Q=function(){return[5,10,25]},k=[{path:"",component:(()=>{class e{constructor(a,n,i){this.dialog=a,this._user=n,this._basicUtil=i,this.total=0,this.userList=[],this._sub=new _.w0,this.dataSource=new l.by([{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""},{profile:"../assets/images/main/staycation-details/avatar.png",firstname:"Juan",lastname:"Miguel",email:"juanmigeul@email.com",status:"Active",action:""}]),this.displayedColumns=["profile","firstname","lastname","email","status","action"]}ngOnInit(){}ngAfterViewInit(){this._getUsers(this.paginator.pageIndex+1,this.paginator.pageSize),this.dataSource.paginator=this.paginator}ngOnDestroy(){this._sub.unsubscribe()}handlePageChange(a){this._getUsers(a.pageIndex+1,a.pageSize)}_getUsers(a,n){this.userList=[],this.dataSource=new l.by,this._sub.add(this._user.getUsersByAccess("host",this.paginator.pageIndex+1,this.paginator.pageSize).subscribe({next:i=>{this.total=i.total,i.auth.forEach(r=>{this.userList.push({profile:this._basicUtil.setImgUrl(r.userId.img),firstname:r.userId.name.fName,lastname:r.userId.name.lName,email:r.email,status:r.userId.status})}),this.dataSource=new l.by(this.userList)}}))}viewProfile(a){this.dialog.open(C.W,{disableClose:!0,panelClass:"custom-view-profile-dialog",data:a})}openValidationModal(a){this.dialog.open(T,{width:"100%",height:"100%",maxHeight:"15rem",maxWidth:"30rem",data:{}})}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(f.uw),t.Y36(b.K),t.Y36(v.M))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-proprietor-table"]],viewQuery:function(n,i){if(1&n&&t.Gf(c.NW,5),2&n){let r;t.iGM(r=t.CRH())&&(i.paginator=r.first)}},decls:23,vars:6,consts:[["mat-table","",3,"dataSource"],["matColumnDef","profile"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firstname"],["matColumnDef","lastname"],["matColumnDef","email"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","select page","showFirstLastButtons","",1,"table-pagination",3,"length","pageSizeOptions","page"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["alt","image",1,"img-listing",3,"src"],["mat-button","",1,"action-btn",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.TgZ(0,"table",0),t.ynx(1,1),t.YNc(2,P,2,0,"th",2),t.YNc(3,M,2,3,"td",3),t.BQk(),t.ynx(4,4),t.YNc(5,x,2,0,"th",2),t.YNc(6,y,2,1,"td",3),t.BQk(),t.ynx(7,5),t.YNc(8,A,2,0,"th",2),t.YNc(9,U,2,1,"td",3),t.BQk(),t.ynx(10,6),t.YNc(11,O,2,0,"th",2),t.YNc(12,w,2,1,"td",3),t.BQk(),t.ynx(13,7),t.YNc(14,N,2,0,"th",2),t.YNc(15,J,2,1,"td",3),t.BQk(),t.ynx(16,8),t.YNc(17,D,2,0,"th",2),t.YNc(18,S,12,1,"td",3),t.BQk(),t.YNc(19,Y,1,0,"tr",9),t.YNc(20,j,1,0,"tr",10),t.qZA(),t.TgZ(21,"mat-paginator",11,12),t.NdJ("page",function(p){return i.handlePageChange(p)}),t.qZA()),2&n&&(t.Q6J("dataSource",i.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",i.total)("pageSizeOptions",t.DdM(5,Q)))},dependencies:[l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,c.NW,u.Hw,m.VK,m.OP,m.p6],styles:["table[_ngcontent-%COMP%]{overflow-y:auto}.img-listing[_ngcontent-%COMP%]{width:2.5rem;height:auto;padding:5px;border-radius:100%}.action-btn[_ngcontent-%COMP%]{border:none;background-color:transparent;outline:none;cursor:pointer}.table-pagination[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0}"]})}return e})()}];let V=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(k),d.Bz]})}return e})();var q=s(4144),B=s(9549);let z=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[h.ez,V,l.p0,c.TU,q.c,B.lN,u.Ps,m.Tx]})}return e})()}}]);