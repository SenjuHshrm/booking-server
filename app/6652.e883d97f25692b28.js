"use strict";(self.webpackChunkbooking_app=self.webpackChunkbooking_app||[]).push([[6652],{5016:(w,C,o)=>{o.d(C,{S:()=>_});var r=o(5412),s=o(4650),e=o(7392);let _=(()=>{class m{constructor(t,a){this.dialogRef=t,this.data=a}closeValidation(t){this.dialogRef.close({confirm:t})}static#e=this.\u0275fac=function(a){return new(a||m)(s.Y36(r.so),s.Y36(r.WI))};static#t=this.\u0275cmp=s.Xpm({type:m,selectors:[["app-confirmation"]],decls:17,vars:4,consts:[[1,"more-info"],[1,"header"],[1,"title"],[1,"close-button-normal",3,"click"],[1,"content"],[1,"footer"],[1,"main-button","custom_btn",3,"click"],[1,"main-button",3,"click"]],template:function(a,l){1&a&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2),s._uU(3),s.qZA(),s.TgZ(4,"div",3),s.NdJ("click",function(){return l.closeValidation(!1)}),s.TgZ(5,"mat-icon"),s._uU(6,"close"),s.qZA()()(),s._UZ(7,"hr"),s.TgZ(8,"div",4)(9,"div",2),s._uU(10),s.qZA()(),s._UZ(11,"hr"),s.TgZ(12,"div",5)(13,"button",6),s.NdJ("click",function(){return l.closeValidation(!0)}),s._uU(14),s.qZA(),s.TgZ(15,"button",7),s.NdJ("click",function(){return l.closeValidation(!1)}),s._uU(16),s.qZA()()()),2&a&&(s.xp6(3),s.Oqu(l.data.title),s.xp6(7),s.hij(" ",l.data.description," "),s.xp6(4),s.hij(" ",l.data.yesBtnText," "),s.xp6(2),s.hij(" ",l.data.noBtnText," "))},dependencies:[e.Hw],styles:[".more-info[_ngcontent-%COMP%]{font-family:Poppins-Regular!important;background-color:#fff;border-top-right-radius:5px;border-top-left-radius:5px;display:flex;flex-direction:column;height:100%}.more-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex:0;display:flex;width:100%;align-items:center;justify-content:center;padding:.5rem 1rem;justify-content:space-between}.more-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.more-info[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;display:grid;place-content:center;height:100%;text-align:start}.more-info[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:2rem;padding:.7rem;white-space:pre-line}.more-info[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding:1rem 0;flex:0;display:flex;justify-content:center;gap:1rem}.more-info[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .custom_btn[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #68a968;color:#68a968}"]})}return m})()},4461:(w,C,o)=>{o.d(C,{T:()=>m});var r=o(4650),s=o(6895);function e(u,t){if(1&u&&(r.TgZ(0,"span",2),r._uU(1),r.qZA()),2&u){const a=r.oxw().$implicit;r.xp6(1),r.Oqu(a.message)}}function _(u,t){if(1&u&&(r.TgZ(0,"div"),r.YNc(1,e,2,1,"span",1),r.qZA()),2&u){const a=t.$implicit,l=r.oxw();r.xp6(1),r.Q6J("ngIf",(null==l.form.controls[a.field].errors?null:l.form.controls[a.field].errors[a.error])&&((null==l.form.controls[a.field]?null:l.form.controls[a.field].dirty)||(null==l.form.controls[a.field]?null:l.form.controls[a.field].touched)))}}let m=(()=>{class u{constructor(){this.errors=[]}static#e=this.\u0275fac=function(l){return new(l||u)};static#t=this.\u0275cmp=r.Xpm({type:u,selectors:[["app-input-error-message"]],inputs:{form:"form",errors:"errors"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["class","val-err-msg",4,"ngIf"],[1,"val-err-msg"]],template:function(l,b){1&l&&r.YNc(0,_,2,1,"div",0),2&l&&r.Q6J("ngForOf",b.errors)},dependencies:[s.sg,s.O5],styles:[".val-err-msg[_ngcontent-%COMP%]{font-size:15px;margin-top:5px;font-family:Poppins-Regular}"]})}return u})()},412:(w,C,o)=>{o.d(C,{p:()=>s});var r=o(4650);let s=(()=>{class e{static#e=this.\u0275fac=function(u){return new(u||e)};static#t=this.\u0275cmp=r.Xpm({type:e,selectors:[["app-booking-loader"]],decls:5,vars:0,consts:[[1,"booking-loader"],[1,"loader","image"],[1,"loader","title"],[1,"loader","address"],[1,"loader","date"]],template:function(u,t){1&u&&(r.TgZ(0,"div",0),r._UZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),r.qZA())},styles:['.booking-loader[_ngcontent-%COMP%]{width:100%;height:20rem;background-color:#ebebeb77;border-radius:5px;display:flex;flex-direction:column;padding:.5rem}.booking-loader[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{flex-grow:1;border-radius:15px}.booking-loader[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{height:1.75rem;width:75%}.booking-loader[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{height:1.25rem;width:60%}.booking-loader[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{height:.75rem;width:80%}.booking-loader[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .booking-loader[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%], .booking-loader[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{border-radius:10px}.loader[_ngcontent-%COMP%]{position:relative;background-color:#ebebeb;overflow:hidden;border-radius:4px;margin-bottom:4px}.loader[_ngcontent-%COMP%]:after{display:block;content:"";position:absolute;width:100%;height:100%;transform:translate(-100%);background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);animation:_ngcontent-%COMP%_loading 1s infinite}@keyframes _ngcontent-%COMP%_loading{to{transform:translate(100%)}}']})}return e})()},9113:(w,C,o)=>{o.d(C,{Q:()=>ee});var r=o(3900),s=o(262),e=o(4650),_=o(8879),m=o(2972),u=o(5412),t=o(4006),a=o(727),l=o(7009),b=o(2169),M=o(7556),Z=o(6895),y=o(7392),U=o(4461),k=o(1572);function R(c,O){if(1&c&&(e.TgZ(0,"div",20),e._UZ(1,"textarea",21)(2,"app-input-error-message",13),e.qZA()),2&c){const i=e.oxw();e.xp6(2),e.Q6J("form",i.cancelForm)("errors",i.reaErrors)}}function E(c,O){1&c&&(e.TgZ(0,"span"),e._uU(1,"Submit"),e.qZA())}function I(c,O){1&c&&(e.TgZ(0,"span",22),e._UZ(1,"mat-spinner",23),e.qZA()),2&c&&(e.xp6(1),e.Q6J("diameter",20))}let T=(()=>{class c{constructor(i,d,n,g,P){this.fb=i,this.dialogRef=d,this.data=n,this._booking=g,this._auth=P,this.isLoading=!1,this.selErrors=[{field:"selection",error:"required",message:"Reason is required."}],this.reaErrors=[{field:"reason",error:"required",message:"Please specify your reason."}],this._subs=new a.w0,this._snack=(0,e.f3M)(l.ux)}ngOnInit(){this.cancelForm=this.fb.group({selection:new t.NI("",[t.kI.required]),reason:new t.NI("")}),this.cancelForm.get("selection")?.valueChanges.subscribe(i=>{this.setReasonValidator(i)})}setReasonValidator(i){const d=this.cancelForm.get("reason");"Other"===i?d?.setValidators([t.kI.required]):d?.clearValidators(),d?.updateValueAndValidity()}onSubmit(i){if(i.invalid)return void i.markAllAsTouched();const d=i.getRawValue(),n={reason:d.selection,bookingId:this.data};"Other"===d.selection&&(n.reason=d.reason),this.isLoading=!0,i.disable(),this._subs.add(this._auth.csrfToken().pipe((0,r.w)(g=>this._booking.cancelBooking(n,g.token)),(0,s.K)(g=>g)).subscribe({next:()=>{this.isLoading=!1,i.enable(),this._snack.open("Your request for cancellation was successful. Please wait for the host's approval.","",{duration:1e3}),this.closeDialog(!0)},error:({error:g})=>{this._snack.open(g?.msg||g?.code||"Failed to request the booking cancellation.","",{duration:1e3}),this.isLoading=!1,i.enable()}}))}closeDialog(i=!1){this.dialogRef.close(i)}static#e=this.\u0275fac=function(d){return new(d||c)(e.Y36(t.qu),e.Y36(u.so),e.Y36(u.WI),e.Y36(b.q),e.Y36(M.e))};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-cancel-reason-modal"]],decls:30,vars:8,consts:[[1,"cancel-container"],[1,"header"],[1,"title"],[1,"close-button-normal",3,"click"],[3,"formGroup","ngSubmit"],[1,"select-container"],["name","selection","formControlName","selection","id","cancel-reason","required","",1,"cancel-select"],["value","","disabled","","selected",""],["value","I no longer need accommodations."],["value","I made the reservation by accident."],["value","I'm uncomfortable with the host"],["value","My travel dates changed"],["value","Other"],[3,"form","errors"],["class","other-reason-container",4,"ngIf"],[1,"btn_reason"],["type","button",1,"cancel-btn",3,"disabled"],["type","submit",1,"cancel-btn",3,"disabled"],[4,"ngIf"],["style","display: block; padding: 0 1.5rem",4,"ngIf"],[1,"other-reason-container"],["name","otherReason","placeholder","Please specify the reason","formControlName","reason","required","",1,"other-reason-input"],[2,"display","block","padding","0 1.5rem"],[3,"diameter"]],template:function(d,n){if(1&d&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Cancellation Reason"),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.closeDialog()}),e.TgZ(5,"mat-icon"),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"form",4),e.NdJ("ngSubmit",function(){return n.onSubmit(n.cancelForm)}),e.TgZ(8,"div",5)(9,"select",6)(10,"option",7),e._uU(11,"Select a reason"),e.qZA(),e.TgZ(12,"option",8),e._uU(13," I no longer need accommodations. "),e.qZA(),e.TgZ(14,"option",9),e._uU(15," I made the reservation by accident. "),e.qZA(),e.TgZ(16,"option",10),e._uU(17," I'm uncomfortable with the host "),e.qZA(),e.TgZ(18,"option",11),e._uU(19,"My travel dates changed"),e.qZA(),e.TgZ(20,"option",12),e._uU(21,"Other"),e.qZA()(),e._UZ(22,"app-input-error-message",13),e.qZA(),e.YNc(23,R,3,2,"div",14),e.TgZ(24,"div",15)(25,"button",16),e._uU(26," Cancel "),e.qZA(),e.TgZ(27,"button",17),e.YNc(28,E,2,0,"span",18),e.YNc(29,I,2,1,"span",19),e.qZA()()()()),2&d){let g;e.xp6(7),e.Q6J("formGroup",n.cancelForm),e.xp6(15),e.Q6J("form",n.cancelForm)("errors",n.selErrors),e.xp6(1),e.Q6J("ngIf","Other"===(null==(g=n.cancelForm.get("selection"))?null:g.value)),e.xp6(2),e.Q6J("disabled",n.isLoading),e.xp6(2),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading)}},dependencies:[Z.O5,y.Hw,t._Y,t.YN,t.Kr,t.Fj,t.EJ,t.JJ,t.JL,t.Q7,U.T,t.sg,t.u,k.Ou],styles:[".cancel-container[_ngcontent-%COMP%]{margin:0 auto;border-radius:10px;padding:1rem}.header[_ngcontent-%COMP%]{flex:0;display:flex;width:100%;align-items:center;justify-content:center;padding:0rem 1rem .5rem;justify-content:space-between;margin-bottom:1rem;border-bottom:1px solid rgb(233,233,233)}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:clamp(1rem,1.1vw,8rem);font-weight:700}.cancel-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#333}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.cancel-select[_ngcontent-%COMP%]{width:100%;padding:20px;font-size:1rem;border-radius:5px;border:1px solid #ccc;background-color:#fff}.other-reason-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}.other-reason-input[_ngcontent-%COMP%]{width:100%;height:12rem;padding:10px;font-size:1rem;border-radius:5px;border:1px solid #ccc;background-color:#fff}textarea[_ngcontent-%COMP%]::placeholder{font-family:Poppins-Regular}.cancel-btn[_ngcontent-%COMP%]{background-color:#68a968e1;color:#fff;border:none;padding:10px 15px;font-size:1rem;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:#68a968}.btn_reason[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;justify-content:center}"]})}return c})();var A=o(1321),h=o(3071),f=o(9083),p=o(2684);function v(c,O){if(1&c&&(e.TgZ(0,"div",17)(1,"div",18)(2,"div",19),e._UZ(3,"img",20),e.qZA(),e.TgZ(4,"div")(5,"div",21),e._uU(6),e.qZA(),e.TgZ(7,"div"),e._uU(8,"Traveller"),e.qZA()()(),e.TgZ(9,"div",22)(10,"mat-icon"),e._uU(11,"forward"),e.qZA()(),e.TgZ(12,"div",18)(13,"div",19),e._UZ(14,"img",20),e.qZA(),e.TgZ(15,"div")(16,"div",21),e._uU(17),e.qZA(),e.TgZ(18,"div"),e._uU(19,"Proprietor"),e.qZA()()()()),2&c){const i=e.oxw();e.xp6(3),e.Q6J("src",i.authImage,e.LSH)("draggable",!1),e.xp6(3),e.Oqu(i.fullName),e.xp6(8),e.s9C("src",i.hostImage,e.LSH),e.Q6J("draggable",!1),e.xp6(3),e.Oqu(i.hostName)}}function x(c,O){1&c&&(e.TgZ(0,"div",23)(1,"span",24),e._UZ(2,"mat-spinner",25),e._uU(3," Loading User Data..."),e.qZA()()),2&c&&(e.xp6(2),e.Q6J("diameter",15))}function L(c,O){1&c&&(e.TgZ(0,"span"),e._UZ(1,"mat-spinner",25),e.qZA()),2&c&&(e.xp6(1),e.Q6J("diameter",20))}function J(c,O){1&c&&(e.TgZ(0,"span",26),e._uU(1,"Send Message "),e.TgZ(2,"mat-icon"),e._uU(3,"send"),e.qZA()())}let F=(()=>{class c{constructor(i,d,n,g,P,D,N,q){this.fb=i,this.dialogRef=d,this.data=n,this._token=g,this.userService=P,this.util=D,this.messageService=N,this._auth=q,this.isLoading=!1,this.authLoading=!1,this.hostLoading=!1,this.subscription=new a.w0,this.messageErrors=[{field:"message",error:"required",message:"Message is required."},{field:"message",error:"maxlength",message:"Message must not exceed 1000 characters."}],this.token=this._token.decodedToken()}ngOnInit(){this.authLoading=!0,this.subscription.add(this.userService.getUserProfile(this.token.sub).subscribe({next:i=>{this.authData=i,this.authLoading=!1},error:()=>this.authLoading=!1})),this.hostLoading=!0,this.subscription.add(this.userService.getUserProfile(this.data).subscribe({next:i=>{this.proprietorData=i,this.hostLoading=!1},error:()=>this.hostLoading=!1})),this.messageForm=this.fb.group({message:new t.NI("",{validators:[t.kI.required,t.kI.maxLength(1e3)]})})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}closeDialogMessage(){this.isLoading||this.authLoading||this.hostLoading||this.dialogRef.close()}onSubmit(i){if(!i.valid)return;this.isLoading=!0;const d=i.getRawValue(),n={from:this.token.sub,type:"text",text:d.message},g=this.data;this.subscription.add(this._auth.csrfToken().pipe((0,r.w)(P=>this.messageService.messageProprietor(n,g,P.token)),(0,s.K)(P=>P)).subscribe({next:P=>{this.isLoading=!1,this.closeDialogMessage()},error:P=>{this.isLoading=!1}}))}get fullName(){return this.util.constructName(this.authData.profile.name)}get authImage(){return this.token.img}get hostName(){return this.util.constructName(this.proprietorData.profile.name)}get hostImage(){const i=this.proprietorData.profile.img;return i.includes("gravatar.com")?i:this.util.setImgUrl(i)}static#e=this.\u0275fac=function(d){return new(d||c)(e.Y36(t.qu),e.Y36(u.so),e.Y36(u.WI),e.Y36(A.B),e.Y36(h.K),e.Y36(f.M),e.Y36(p.e),e.Y36(M.e))};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-trip-message-host"]],decls:23,vars:9,consts:[[3,"formGroup","ngSubmit"],[1,"message_modal"],[1,"header"],[1,"title"],[1,"close-button-normal",3,"click"],[1,"message_modal-content"],["class","details-user-avatar",4,"ngIf"],["style","display: grid; place-items: center",4,"ngIf"],[1,"message_modal_input"],[1,"input-wrapper"],[1,"label"],["formControlName","message","type","text","name","street","value","","placeholder","Type here..",3,"disabled"],[3,"form","errors"],[1,"footer"],["type","submit",1,"main-button",3,"disabled"],[4,"ngIf"],["style","display: block; display: flex; align-items: center; gap: 10px",4,"ngIf"],[1,"details-user-avatar"],[1,"wrapper"],[1,"image-avatar"],["loading","lazy","alt","Avatar",3,"src","draggable"],[1,"name"],[1,"forward_icon"],[2,"display","grid","place-items","center"],[2,"display","flex","align-items","center","gap","0.25rem"],[3,"diameter"],[2,"display","block","display","flex","align-items","center","gap","10px"]],template:function(d,n){1&d&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit(n.messageForm)}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Message Proprietor"),e.qZA(),e.TgZ(5,"div",4),e.NdJ("click",function(){return n.closeDialogMessage()}),e.TgZ(6,"mat-icon"),e._uU(7,"close"),e.qZA()()(),e._UZ(8,"hr"),e.TgZ(9,"div",5),e.YNc(10,v,20,6,"div",6),e.YNc(11,x,4,1,"div",7),e.TgZ(12,"div",8)(13,"div",9)(14,"div",10),e._uU(15,"Type your message here"),e.qZA(),e.TgZ(16,"textarea",11),e._uU(17,"          "),e.qZA(),e._UZ(18,"app-input-error-message",12),e.qZA()()(),e.TgZ(19,"div",13)(20,"button",14),e.YNc(21,L,2,1,"span",15),e.YNc(22,J,4,0,"span",16),e.qZA()()()()),2&d&&(e.Q6J("formGroup",n.messageForm),e.xp6(10),e.Q6J("ngIf",!n.authLoading&&!n.hostLoading),e.xp6(1),e.Q6J("ngIf",n.authLoading||n.hostLoading),e.xp6(5),e.Q6J("disabled",n.isLoading||n.authLoading||n.hostLoading),e.xp6(2),e.Q6J("form",n.messageForm)("errors",n.messageErrors),e.xp6(2),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",!0===n.isLoading),e.xp6(1),e.Q6J("ngIf",!1===n.isLoading))},dependencies:[Z.O5,y.Hw,U.T,t._Y,t.Fj,t.JJ,t.JL,k.Ou,t.sg,t.u],styles:[".message_modal[_ngcontent-%COMP%]{font-family:Poppins-Regular!important;background-color:#fff;padding-bottom:1.5rem;border-bottom-right-radius:5px;border-bottom-left-radius:5px;overflow:auto;height:100%}.message_modal[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;padding:.5rem 1rem;justify-content:space-between}.message_modal[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.message_modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow-y:auto;gap:1rem;padding:1rem}.message_modal-content[_ngcontent-%COMP%]   .details-user-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem;margin:0rem 0 1rem}.message_modal-content[_ngcontent-%COMP%]   .details-user-avatar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.message_modal-content[_ngcontent-%COMP%]   .details-user-avatar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .image-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100%;width:3rem;height:3rem;object-fit:cover;object-position:center;border:1px solid #68a968}.message_modal-content[_ngcontent-%COMP%]   .details-user-avatar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:clamp(1rem,.8vw,8rem)}.message_modal-content[_ngcontent-%COMP%]   .details-user-avatar[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .years[_ngcontent-%COMP%]{font-size:.8rem;color:#68a968}.message_modal-content[_ngcontent-%COMP%]   .details-user-avatar[_ngcontent-%COMP%]   .forward_icon[_ngcontent-%COMP%]{color:#63ab68}.message_modal-content[_ngcontent-%COMP%]   .details-user-avatar[_ngcontent-%COMP%]   .message_proprietor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;border-radius:10px;padding:auto 0 auto;display:inline-flex;align-items:center;gap:1rem;border:2px solid #68a968;background-color:transparent;padding:.5rem 1rem;color:#68a968;font-size:1rem}.message_modal-content[_ngcontent-%COMP%]   .details-user-avatar[_ngcontent-%COMP%]   .message_proprietor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;justify-content:center}.message_modal-content[_ngcontent-%COMP%]   .message_modal_input[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:.3rem}.message_modal-content[_ngcontent-%COMP%]   .message_modal_input[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:1rem;border:2px solid #63ab68;width:100%;height:10rem;border-radius:10px;font-family:Poppins-Medium;font-size:15px;resize:none}.message_modal[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%}.message_modal[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:auto}.message_modal[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;margin:0;padding:0}"]})}return c})();var B=o(408),S=o(5016),K=o(9299),Q=o(6233),Y=o(9485);const $=["swiper"];function z(c,O){if(1&c&&(e.TgZ(0,"div",26),e._UZ(1,"img",27),e.qZA()),2&c){const i=e.oxw().$implicit,d=e.oxw();e.xp6(1),e.s9C("src",d.setSrc(i),e.LSH)}}function W(c,O){1&c&&e.YNc(0,z,2,1,"ng-template",25)}function j(c,O){if(1&c){const i=e.EpF();e.TgZ(0,"div",14)(1,"div",15),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.rateAndComment())}),e.TgZ(2,"mat-icon"),e._uU(3,"star"),e.qZA(),e._uU(4," Rate this listing "),e.qZA(),e.TgZ(5,"div")(6,"mat-icon"),e._uU(7,"navigate_next"),e.qZA()()()}}function V(c,O){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c){const i=e.oxw(2);e.xp6(1),e.Oqu("for_approval"===i.data.status?"Cancel Booking":"Request Cancellation")}}function G(c,O){1&c&&(e.TgZ(0,"span",30),e._UZ(1,"mat-spinner",31),e.qZA()),2&c&&(e.xp6(1),e.Q6J("diameter",15))}function X(c,O){if(1&c){const i=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.validCancel())}),e.YNc(1,V,2,1,"span",28),e.YNc(2,G,2,1,"span",29),e.qZA()}if(2&c){const i=e.oxw();e.Q6J("disabled",i.isLoading),e.xp6(1),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading)}}const H=function(){return["for_approval","arriving","upcoming"]};_.ZP.use([_.pt]),_.ZP.use([_.W_,_.tl,_.LW,_.s5]);let ee=(()=>{class c{constructor(i,d,n,g,P,D,N,q){this.dialogRef=i,this.dialog=d,this.router=n,this.data=g,this._util=P,this._cp=D,this._booking=N,this._auth=q,this.paymentDetails=[{bookedguest:"Juan Dela Cruz",bookeddate:"September 15, 2024",checkin:"September 15, 2024",checkout:"September 20, 2024",numberguest:"5"}],this._subs=new a.w0,this._snack=(0,e.f3M)(l.ux),this.isLoading=!1}ngOnInit(){}ngOnDestroy(){this._subs&&this._subs.unsubscribe()}validCancel(){this.dialog.open(S.S,{width:"100%",maxWidth:"30rem",data:{title:"for_approval"===this.data.status?"Cancel Booking":"Request Cancellation",description:`Are you sure you want to cancel this booking?\n        Property: ${this.data.bookTo?.name}`,yesBtnText:"Yes",noBtnText:"No"}}).afterClosed().subscribe(({confirm:d})=>{if(d)if("for_approval"===this.data.status){const n={bookingId:this.data._id};this.isLoading=!0,this._subs.add(this._auth.csrfToken().pipe((0,r.w)(g=>this._booking.cancelBooking(n,g.token)),(0,s.K)(g=>g)).subscribe({next:()=>{this.isLoading=!1,this._snack.open("Booking successfully cancelled.","",{duration:1e3}),this.closeDialog(!0)},error:({error:g})=>{this._snack.open(g?.msg||g?.code||"Failed to cancel the booking.","",{duration:1e3}),this.isLoading=!1}}))}else this.reasonCancel()})}reasonCancel(){this.dialog.open(T,{disableClose:!0,panelClass:"custom-cancell-dialog",width:"100%",height:"fit-content",maxHeight:"90vh",maxWidth:"45rem",data:this.data._id}).afterClosed().subscribe(d=>{})}goToSearchList(){this.router.navigate(["main/staycation-list"]),this.closeDialog()}closeDialog(i=!1){this.isLoading||this.dialogRef.close(i)}setSrc(i){return this._util.setImgUrl(i)}messageProprietor(){this.dialog.open(F,{width:"99vw",maxWidth:"33rem",height:"99vh",maxHeight:"28rem",data:this.data.bookTo.host._id,disableClose:!0})}get hostName(){return this._util.constructName(this.data.bookTo.host.name)}get guestName(){return this.data.initiatedBy.fullName}get totalGuest(){const{adult:i,children:d,infant:n,pets:g}=this.data.details;return i+d+n+g}get cancellationPolicy(){return this._cp.getPolicyDesc(this.data.cancellationPolicy)}get cancellationPolicyTitle(){return this._cp.getPolicyTitle(this.data.cancellationPolicy)}rateAndComment(){this.dialog.open(B.g,{panelClass:"custom-addrate-dialog",data:{host:{name:this.hostName},staycationId:this.data.bookTo._id}})}get fullAddress(){return this._util.constructAddress(this.data.bookTo.address)}get title(){switch(this.data.status){case"for_approval":return"Pending Reservation";case"upcoming":return"Upcoming Reservation";case"arriving":return"Arriving Reservation";case"current_guest":return"Reservation In Progress";case"check_out":return"Completed Reservation";case"cancelled":return"Cancelled Reservation";default:return"Booking Details"}}static#e=this.\u0275fac=function(d){return new(d||c)(e.Y36(u.so),e.Y36(u.uw),e.Y36(K.F0),e.Y36(u.WI),e.Y36(f.M),e.Y36(Q.h),e.Y36(b.q),e.Y36(M.e))};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-viewtrips-reservation-modal"]],viewQuery:function(d,n){if(1&d&&e.Gf($,5),2&d){let g;e.iGM(g=e.CRH())&&(n.swiper=g.first)}},decls:116,vars:31,consts:[[1,"__viewTrips"],[1,"header"],[1,"title"],[1,"close-button-normal",3,"click"],[1,"content"],[1,"main-image"],[1,"swiper-container",3,"slidesPerView","spaceBetween","pagination","draggable","loop","autoplay","navigation"],["swiper",""],[4,"ngFor","ngForOf"],[1,"swiper-button-prev","custom-prev"],[1,"swiper-button-next","custom-next"],[1,"title_listing"],[1,"subtitle"],[1,"btn_listing"],[1,"__btn"],[3,"click"],[1,"__btn",3,"click"],["class","__btn",4,"ngIf"],[1,"reservation_details"],[1,"info-details-wrapper"],[1,"info-details-label"],[1,"info-details-content"],[1,"footer"],[1,"square-radius-btn",3,"disabled","click"],["class","square-radius-btn",3,"disabled","click",4,"ngIf"],["class","custom-swiper-slide","swiperSlide",""],[1,"images"],["alt","hero-visual-1","draggable","false","loading","lazy",3,"src"],[4,"ngIf"],["style","display: block; padding: 0 3rem",4,"ngIf"],[2,"display","block","padding","0 3rem"],[3,"diameter"]],template:function(d,n){1&d&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.closeDialog()}),e.TgZ(5,"mat-icon"),e._uU(6,"close"),e.qZA()()(),e._UZ(7,"hr"),e.TgZ(8,"div",4)(9,"div",5)(10,"swiper",6,7),e.YNc(12,W,1,0,null,8),e._UZ(13,"div",9)(14,"div",10),e.qZA()(),e.TgZ(15,"div",11)(16,"div",2),e._uU(17),e.qZA(),e.TgZ(18,"div",12),e._uU(19,"Quezon City, Manila"),e.qZA()(),e.TgZ(20,"div",13)(21,"div",14)(22,"div",15),e.NdJ("click",function(){return n.messageProprietor()}),e.TgZ(23,"mat-icon"),e._uU(24,"message"),e.qZA(),e._uU(25," Message Proprietor "),e.qZA(),e.TgZ(26,"div")(27,"mat-icon"),e._uU(28,"navigate_next"),e.qZA()()(),e.TgZ(29,"div",16),e.NdJ("click",function(){return n.goToSearchList()}),e.TgZ(30,"div")(31,"mat-icon"),e._uU(32,"view_day"),e.qZA(),e._uU(33," View Listing "),e.qZA(),e.TgZ(34,"div")(35,"mat-icon"),e._uU(36,"navigate_next"),e.qZA()()(),e.YNc(37,j,8,0,"div",17),e.qZA(),e.TgZ(38,"div",18)(39,"div",2),e._uU(40,"Reservation Details"),e.qZA(),e.TgZ(41,"div",19)(42,"div",20),e._uU(43,"Booked Guest"),e.qZA(),e.TgZ(44,"div",21),e._uU(45),e.qZA()(),e.TgZ(46,"div",19)(47,"div",20),e._uU(48,"Booked Date"),e.qZA(),e.TgZ(49,"div",21),e._uU(50),e.ALo(51,"date"),e.qZA()(),e.TgZ(52,"div",19)(53,"div",20),e._uU(54,"Check-in"),e.qZA(),e.TgZ(55,"div",21)(56,"span"),e._uU(57),e.ALo(58,"date"),e.qZA()()(),e.TgZ(59,"div",19)(60,"div",20),e._uU(61,"Check-out"),e.qZA(),e.TgZ(62,"div",21)(63,"span"),e._uU(64),e.ALo(65,"date"),e.qZA()()(),e.TgZ(66,"div",19)(67,"div",20),e._uU(68,"Number of Guest"),e.qZA(),e.TgZ(69,"div",21),e._uU(70),e.qZA()()(),e.TgZ(71,"div",18)(72,"div",2),e._uU(73,"Payment Details"),e.qZA(),e.TgZ(74,"div",19)(75,"div",20),e._uU(76,"Payment Status"),e.qZA(),e.TgZ(77,"div",21),e._uU(78,"Awaiting Payment"),e.qZA()(),e.TgZ(79,"div",19)(80,"div",20),e._uU(81,"Discounted Offer"),e.qZA(),e.TgZ(82,"div",21),e._uU(83,"20% Off"),e.qZA()(),e.TgZ(84,"div",19)(85,"div",20),e._uU(86,"Service Charge"),e.qZA(),e.TgZ(87,"div",21),e._uU(88,"250"),e.qZA()(),e.TgZ(89,"div",19)(90,"div",20),e._uU(91,"Taxed"),e.qZA(),e.TgZ(92,"div",21),e._uU(93,"10%"),e.qZA()(),e.TgZ(94,"div",19)(95,"div",20),e._uU(96,"Balance"),e.qZA(),e.TgZ(97,"div",21),e._uU(98,"1000"),e.qZA()(),e.TgZ(99,"div",19)(100,"div",20),e._uU(101,"Total Amount"),e.qZA(),e.TgZ(102,"div",21),e._uU(103,"5000"),e.qZA()()(),e.TgZ(104,"div",18)(105,"div",2),e._uU(106,"Cancellation Policy"),e.qZA(),e.TgZ(107,"div",19)(108,"div",20),e._uU(109),e.qZA(),e.TgZ(110,"div",21),e._uU(111),e.qZA()()()(),e.TgZ(112,"div",22)(113,"button",23),e.NdJ("click",function(){return n.closeDialog()}),e._uU(114," Exit "),e.qZA(),e.YNc(115,X,3,3,"button",24),e.qZA()()),2&d&&(e.xp6(3),e.Oqu(n.title),e.xp6(6),e.Q6J("@fadeInAnimation",void 0),e.xp6(1),e.Q6J("slidesPerView",1)("spaceBetween",25)("pagination",!0)("draggable",!1)("loop",!0)("autoplay",!0)("navigation",!0),e.xp6(2),e.Q6J("ngForOf",n.data.bookTo.bedroomList),e.xp6(5),e.Oqu(n.data.bookTo.name),e.xp6(20),e.Q6J("ngIf","check_out"===n.data.status),e.xp6(8),e.Oqu(n.guestName),e.xp6(5),e.hij(" ",e.xi3(51,21,n.data.createdAt,"MMMM dd, YYYY")," "),e.xp6(7),e.Oqu(e.xi3(58,24,n.data.duration.start,"MMMM dd, YYYY")),e.xp6(7),e.Oqu(e.xi3(65,27,n.data.duration.end,"MMMM dd, YYYY")),e.xp6(6),e.Oqu(n.totalGuest),e.xp6(39),e.Oqu(n.cancellationPolicyTitle),e.xp6(2),e.hij(" ",n.cancellationPolicy," "),e.xp6(2),e.Q6J("disabled",n.isLoading),e.xp6(2),e.Q6J("ngIf",e.DdM(30,H).includes(n.data.status)))},dependencies:[Z.sg,Z.O5,y.Hw,k.Ou,Y.nF,Y.YC,Z.uU],styles:['@charset "UTF-8";.__viewTrips{font-family:Poppins-Regular,sans-serif!important;background-color:#fff;border-top-right-radius:5px;border-top-left-radius:5px;display:flex;flex-direction:column;height:100%;overflow-y:auto}.__viewTrips .header{display:flex;width:100%;align-items:center;padding:.5rem 1rem;justify-content:space-between}.__viewTrips .header .title{font-size:1.5rem;font-weight:700}.__viewTrips .content{flex:1;display:flex;flex-direction:column;gap:1rem;overflow-y:auto}.__viewTrips .content .title_listing{padding:0 1rem;width:100%}.__viewTrips .content .title_listing .title{font-size:clamp(1rem,1.2vw,5rem);font-weight:700;margin-top:.5rem}.__viewTrips .content .title_listing .subtitle{margin-top:.5rem;font-size:.9rem}.__viewTrips .content .title_listing .message_btn:hover{background-color:#f0f0f0}.__viewTrips .content .main-image img{width:100%;height:100%;max-height:25rem;object-fit:cover}.__viewTrips .content .main-image .swiper-container{position:relative}.__viewTrips .content .main-image .custom-prev,.__viewTrips .content .main-image .custom-next{position:absolute;top:50%;transform:translateY(-50%);color:#fff;cursor:pointer;-webkit-user-select:none;user-select:none;z-index:1;width:3rem;height:3rem;background-color:#00000080;border-radius:50%;display:flex;justify-content:center;align-items:center}.__viewTrips .content .main-image .custom-prev{left:10px}.__viewTrips .content .main-image .custom-next{right:10px}.__viewTrips .content .main-image .custom-prev:before{content:"\\2039";font-size:2rem;color:#fff}.__viewTrips .content .main-image .custom-next:before{content:"\\203a";font-size:2rem;color:#fff}.__viewTrips .content .btn_listing .__btn{border-top:1px solid rgb(223,223,223);border-bottom:1px solid rgb(223,223,223);padding:1rem;color:#63ab68;display:flex;align-items:center;justify-content:space-between;gap:1rem;font-size:clamp(1rem,.8vw,5rem);cursor:pointer}.__viewTrips .content .btn_listing :nth-child(1),.__viewTrips .content .btn_listing :nth-child(2){border-bottom:none;display:flex;align-items:center;gap:1rem}.__viewTrips .content .btn_listing :nth-child(1):hover,.__viewTrips .content .btn_listing :nth-child(2):hover,.__viewTrips .content .btn_listing :nth-child(3):hover{text-decoration:underline}.__viewTrips .content .reservation_details .title{flex-basis:50%;font-weight:bolder;font-size:clamp(1rem,1vw,8rem);margin-bottom:1rem;padding:1rem 1rem 0}.__viewTrips .content .reservation_details .info-details-wrapper{color:#575757;display:grid;grid-template-columns:50% 50%;border-bottom:1px solid rgb(214,214,214);padding:1rem}.__viewTrips .content .reservation_details .info-details-wrapper .info-details-label{font-weight:700}.__viewTrips .content .reservation_details .info-details-wrapper .info-details-content{max-width:100%}.__viewTrips .footer{border-top:1px solid rgb(223,223,223);display:flex;justify-content:flex-end;padding:1rem;gap:1rem}.__viewTrips .footer button{max-width:-moz-fit-content;max-width:fit-content;font-size:1rem}.swiper-pagination{position:absolute;top:auto;bottom:0;z-index:5}.swiper-pagination-bullet{background-color:#ccc}.swiper-pagination-bullet.swiper-pagination-bullet-active{background-color:#63ab68}.swiper-button-next,.swiper-button-prev{background-color:#fff;border-radius:50%;width:30px;height:30px;display:flex;align-items:center;justify-content:center;transform:translateY(5px);box-shadow:1px 1px 3px #8887}.swiper-button-prev:after,.swiper-button-next:after{color:#63ab68;font-size:15px}\n'],encapsulation:2,data:{animation:[m.B]}})}return c})()},408:(w,C,o)=>{o.d(C,{g:()=>I});var r=o(3900),s=o(262),e=o(4650),_=o(4006),m=o(5412),u=o(7009),t=o(727),a=o(1321),l=o(1820),b=o(7556),M=o(6895),Z=o(7392),y=o(1572),U=o(4461);function k(T,A){if(1&T){const h=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){const v=e.CHM(h).index,x=e.oxw();return e.KtG(x.rate(v+1))})("mouseover",function(){const v=e.CHM(h).index,x=e.oxw();return e.KtG(x.hoverRating(v+1))})("mouseleave",function(){e.CHM(h);const p=e.oxw();return e.KtG(p.hoverRating(0))}),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA()()}if(2&T){const h=A.index,f=e.oxw();e.xp6(2),e.hij(" ",h<f.rating?"star":"star_border"," ")}}function R(T,A){1&T&&(e.TgZ(0,"span"),e._uU(1,"Submit "),e.TgZ(2,"mat-icon"),e._uU(3," rate_review"),e.qZA()())}function E(T,A){1&T&&(e.TgZ(0,"span"),e._UZ(1,"mat-spinner",18),e.qZA()),2&T&&(e.xp6(1),e.Q6J("diameter",15))}let I=(()=>{class T{constructor(h,f,p,v,x,L){this.fb=h,this.dialogRef=f,this.data=p,this._token=v,this._staycation=x,this._auth=L,this.rating=0,this.hoveredRating=0,this.maxRating=5,this.stars=Array(this.maxRating).fill(!1),this.publicComments="",this.privateFeedback="",this.isLoading=!1,this._subs=new t.w0,this._snack=(0,e.f3M)(u.ux),this.ratingErrors=[{field:"rating",error:"required",message:"Rate the staycation from 1 to 5 stars."}],this.descErrors=[{field:"desc",error:"required",message:"A review comment is required."},{field:"desc",error:"maxlength",message:"The review comment must not exceed 1000 characters."}]}ngOnInit(){this.token=this._token.decodedToken(),this.reviewForm=this.fb.group({rating:new _.NI("",{validators:[_.kI.required]}),desc:new _.NI("",{validators:[_.kI.required,_.kI.maxLength(1e3)]})})}ngOnDestroy(){this._subs&&this._subs.unsubscribe()}closeDialog(h=!1,f){this.isLoading||(f&&({success:h}.data=f),this.dialogRef.close({success:h,data:f}))}rate(h){this.isLoading||(this.rating=h,this.reviewForm.get("rating")?.setValue(h))}hoverRating(h){this.isLoading||(this.hoveredRating=h)}onSubmit(h){if(h.invalid)return void h.markAllAsTouched();const f=h.getRawValue(),p=new FormData;p.append("rating",f.rating),p.append("comment",f.desc),p.append("user",this.token.sub),this.isLoading=!0,h.disable(),this._subs.add(this._auth.csrfToken().pipe((0,r.w)(v=>this._staycation.reviewStaycation(this.data.staycationId,p,v.token)),(0,s.K)(v=>v)).subscribe({next:v=>{this.isLoading=!1,h.enable(),this.closeDialog(!0,v.review)},error:({error:v})=>{this._snack.open(v.code||"Failed to review staycation. Please try again.","",{duration:1e3}),this.isLoading=!1,h.enable()}}))}static#e=this.\u0275fac=function(f){return new(f||T)(e.Y36(_.qu),e.Y36(m.so),e.Y36(m.WI),e.Y36(a.B),e.Y36(l.x),e.Y36(b.e))};static#t=this.\u0275cmp=e.Xpm({type:T,selectors:[["app-rate-and-comment"]],decls:29,vars:13,consts:[[3,"formGroup","ngSubmit"],[1,"rateandcomment_modal"],[1,"header"],[1,"title"],[1,"close-button-normal",3,"click"],[1,"rateandcomment_modal-content"],[1,"review-rate-container"],[1,"star-rating-container"],[1,"star-rating"],[3,"click","mouseover","mouseleave",4,"ngFor","ngForOf"],[3,"form","errors"],[1,"host_name"],[1,"textarea-container"],["formControlName","desc","placeholder","Write your public comments here...",3,"readOnly","ngModel","ngModelChange"],[1,"footer"],["type","submit",1,"main-button",3,"disabled"],[4,"ngIf"],[3,"click","mouseover","mouseleave"],[3,"diameter"]],template:function(f,p){1&f&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return p.onSubmit(p.reviewForm)}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Review and rate this listing"),e.qZA(),e.TgZ(5,"div",4),e.NdJ("click",function(){return p.closeDialog()}),e.TgZ(6,"mat-icon"),e._uU(7,"close"),e.qZA()()(),e._UZ(8,"hr"),e.TgZ(9,"div",5)(10,"div",6)(11,"h2"),e._uU(12),e.qZA(),e.TgZ(13,"div",7)(14,"div",8),e.YNc(15,k,3,1,"span",9),e.qZA(),e._UZ(16,"app-input-error-message",10),e.qZA(),e.TgZ(17,"h3"),e._uU(18," You have just checked out of "),e.TgZ(19,"span",11),e._uU(20),e.qZA(),e._uU(21," place. Please take a moment to reflect on your stay and leave a brief review. "),e.qZA(),e.TgZ(22,"div",12)(23,"textarea",13),e.NdJ("ngModelChange",function(x){return p.publicComments=x}),e.qZA(),e._UZ(24,"app-input-error-message",10),e.qZA()()(),e.TgZ(25,"div",14)(26,"button",15),e.YNc(27,R,4,0,"span",16),e.YNc(28,E,2,1,"span",16),e.qZA()()()()),2&f&&(e.Q6J("formGroup",p.reviewForm),e.xp6(12),e.hij("Rate your stay at ",null==p.data.host?null:p.data.host.name,"'s place"),e.xp6(3),e.Q6J("ngForOf",p.stars),e.xp6(1),e.Q6J("form",p.reviewForm)("errors",p.ratingErrors),e.xp6(4),e.hij("",null==p.data.host?null:p.data.host.name,"'s"),e.xp6(3),e.Q6J("readOnly",p.isLoading)("ngModel",p.publicComments),e.xp6(1),e.Q6J("form",p.reviewForm)("errors",p.descErrors),e.xp6(2),e.Q6J("disabled",p.isLoading),e.xp6(1),e.Q6J("ngIf",!p.isLoading),e.xp6(1),e.Q6J("ngIf",p.isLoading))},dependencies:[M.sg,M.O5,Z.Hw,_._Y,_.Fj,_.JJ,_.JL,_.sg,_.u,y.Ou,U.T],styles:[".rateandcomment_modal[_ngcontent-%COMP%]{font-family:Poppins-Regular!important;background-color:#fff;padding-bottom:1.5rem;border-bottom-right-radius:5px;border-bottom-left-radius:5px;display:flex;flex-direction:column;overflow-y:auto;height:100%}.rateandcomment_modal[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex:0;display:flex;width:100%;align-items:center;padding:.5rem 1rem;justify-content:space-between}.rateandcomment_modal[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.rateandcomment_modal-content[_ngcontent-%COMP%]{flex:1;flex-grow:1;display:flex;flex-direction:column;gap:1rem;padding:1rem;max-height:100%;overflow-y:auto}.rateandcomment_modal-content[_ngcontent-%COMP%]   .review-rate-container[_ngcontent-%COMP%]{max-width:600px;margin:auto;text-align:center}.rateandcomment_modal-content[_ngcontent-%COMP%]   .review-rate-container[_ngcontent-%COMP%]   .star-rating-container[_ngcontent-%COMP%]{margin:20px 0}.rateandcomment_modal-content[_ngcontent-%COMP%]   .review-rate-container[_ngcontent-%COMP%]   .star-rating-container[_ngcontent-%COMP%]   .star-rating[_ngcontent-%COMP%]{display:flex;justify-content:center;height:-moz-fit-content;height:fit-content}.rateandcomment_modal-content[_ngcontent-%COMP%]   .review-rate-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#000;font-size:3rem;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;cursor:pointer}.rateandcomment_modal-content[_ngcontent-%COMP%]   .review-rate-container[_ngcontent-%COMP%]   .textarea-container[_ngcontent-%COMP%]{margin:10px 0}.rateandcomment_modal-content[_ngcontent-%COMP%]   .review-rate-container[_ngcontent-%COMP%]   .textarea-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:180px;padding:10px;border:1px solid #ccc;border-radius:4px;font-family:Poppins-Regular;font-size:1rem;resize:none}.rateandcomment_modal-content[_ngcontent-%COMP%]   .review-rate-container[_ngcontent-%COMP%]   .host_name[_ngcontent-%COMP%]{font-weight:700}.rateandcomment_modal[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{flex:0;width:100%;height:100%}.rateandcomment_modal[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto}.rateandcomment_modal[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem}.rateandcomment_modal[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;padding:0}"]})}return T})()},2169:(w,C,o)=>{o.d(C,{q:()=>_});var r=o(2340),s=o(4650),e=o(529);let _=(()=>{class m{constructor(t){this._http=t}tempBooking(t,a){return this._http.post(`${r.N.api}/api/booking/post/temp-add-booking`,t,{withCredentials:!0,headers:{"X-XSRF-TOKEN":a}})}getBookingByType(t,a,l,b,M){let Z={};return""!==M&&(Z.search=M),this._http.get(`${r.N.api}/api/booking/get/list/${t}/${l}/${b}/${a}`,{params:{...Z}})}updateBookingStatus(t,a,l){return this._http.post(`${r.N.api}/api/booking/post/update-booking-status/${t}`,{status:a},{withCredentials:!0,headers:{"X-XSRF-TOKEN":l}})}getBookingGuests(t){return this._http.get(`${r.N.api}/api/booking/get/guest-list/${t}`)}addGuest(t,a,l){return this._http.post(`${r.N.api}/api/booking/post/add-guest/${t}`,a,{withCredentials:!0,headers:{"X-XSRF-TOKEN":l}})}checkOutGuest(t,a,l){return this._http.post(`${r.N.api}/api/booking/post/checkout-guest/${t}`,a,{withCredentials:!0,headers:{"X-XSRF-TOKEN":l}})}getBookingsByGuestId(t,a,l,b){let M={limit:t,page:a,type:l};return""!==b&&(M.search=b),this._http.get(`${r.N.api}/api/booking/get/trips`,{params:{...M}})}cancelBooking(t,a){return this._http.post(`${r.N.api}/api/booking/post/cancel-booking`,t,{withCredentials:!0,headers:{"X-XSRF-TOKEN":a}})}bookingCheckIn(t,a){return this._http.post(`${r.N.api}/api/booking/post/check-in/${t}`,{},{withCredentials:!0,headers:{"X-XSRF-TOKEN":a}})}bookingCheckOut(t,a){return this._http.post(`${r.N.api}/api/booking/post/check-out/${t}`,{},{withCredentials:!0,headers:{"X-XSRF-TOKEN":a}})}getCancelledBookings(t,a,l,b){let M={};return""!==b&&(M.search=b),this._http.get(`${r.N.api}/api/booking/get/cancelled/${t}/${a}/${l}`,{params:{...M}})}approveCancellation(t,a,l){return this._http.post(`${r.N.api}/api/booking/post/approve-cancel/${t}/${a}`,{},{withCredentials:!0,headers:{"X-XSRF-TOKEN":l}})}denyCancellation(t,a,l){return this._http.post(`${r.N.api}/api/booking/post/deny-cancel/${t}/${a}`,{},{withCredentials:!0,headers:{"X-XSRF-TOKEN":l}})}static#e=this.\u0275fac=function(a){return new(a||m)(s.LFG(e.eN))};static#t=this.\u0275prov=s.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},6233:(w,C,o)=>{o.d(C,{h:()=>s});var r=o(4650);let s=(()=>{class e{constructor(){this.cancellationPolicies=[{value:"cancel_policy_standard_1",title:"Flexible",desc:"Guest get a full refund they cancel up to a day before check-in."},{value:"cancel_policy_standard_2",title:"Moderate",desc:"Guest get a full refund if they cancel up to 5 days before check-in."},{value:"cancel_policy_standard_3",title:"Firm",desc:"Guest get a full refund if they cancel up to 30 days before check-in, except in certain cases."},{value:"cancel_policy_standard_4",title:"Strict",desc:"Guest get a full refund if they cancel within 48 hours of booking and at least 14 days before check-in."},{value:"cancel_policy_lt_1",title:"Firm",desc:"Full refund up to 30 days before check-in. After that, the first 30 days of the stay are non-refundable."},{value:"cancel_policy_lt_2",title:"Strict",desc:"Full refund if cancelled within 48 hours of booking and at least 28 days before check-in. After that, the first 30 days of the stay are non-refundable."}]}getPolicy(m){return this.cancellationPolicies.find(u=>u.value===m)}getPolicyTitle(m){return this.cancellationPolicies.find(u=>u.value===m)?.title}getPolicyDesc(m){return this.cancellationPolicies.find(u=>u.value===m)?.desc}static#e=this.\u0275fac=function(u){return new(u||e)};static#t=this.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},2684:(w,C,o)=>{o.d(C,{e:()=>_});var r=o(2340),s=o(4650),e=o(529);let _=(()=>{class m{constructor(t){this._http=t}messageProprietor(t,a,l){return this._http.post(`${r.N.api}/api/message/post/send-msg/${a}`,t,{withCredentials:!0,headers:{"X-XSRF-TOKEN":l}})}sendMessage(t,a,l){return this._http.post(`${r.N.api}/api/message/post/send-msg/${a}`,t,{withCredentials:!0,headers:{"X-XSRF-TOKEN":l}})}getMessageRoomsByUserId(t){return this._http.get(`${r.N.api}/api/message/get/rooms/${t}`)}getRoomMessages(t,a,l){return this._http.get(`${r.N.api}/api/message/get/message-thread/${t}/${l}/${a}`)}static#e=this.\u0275fac=function(a){return new(a||m)(s.LFG(e.eN))};static#t=this.\u0275prov=s.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()}}]);