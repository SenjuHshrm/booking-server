"use strict";(self.webpackChunkbooking_app=self.webpackChunkbooking_app||[]).push([[1831],{1831:(M,s,i)=>{i.r(s),i.d(s,{NotificationPageModule:()=>P});var c=i(6895),d=i(9299),l=i(2972),t=i(4650),f=i(5716),m=i(1321),g=i(3546),p=i(7392);function h(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"mat-card")(1,"div",8),t._UZ(2,"img",9),t.qZA(),t.TgZ(3,"div",10)(4,"div",3),t._uU(5),t.qZA(),t.TgZ(6,"div",11),t._uU(7),t.qZA(),t.TgZ(8,"div",12),t._uU(9),t.qZA()(),t.TgZ(10,"button",13),t.NdJ("click",function(){const O=t.CHM(o).index,v=t.oxw(2);return t.KtG(v.deleteCard(O))}),t.TgZ(11,"mat-icon"),t._uU(12,"close"),t.qZA()()()}if(2&n){const o=r.$implicit;t.xp6(2),t.s9C("src",o.avatar,t.LSH),t.Q6J("draggable",!1),t.xp6(3),t.Oqu(o.title),t.xp6(2),t.hij(" ",o.desc," "),t.xp6(2),t.hij(" ",o.date," ")}}function u(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,h,13,5,"mat-card",7),t.qZA()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.dataNotif)}}function C(n,r){1&n&&(t.TgZ(0,"div",14),t._uU(1," You don't have notification right now. "),t.qZA())}const _=[{path:"",component:(()=>{class n{constructor(o,e,a){this.location=o,this._socket=e,this._token=a,this._claims="",this.today=(new Date).toISOString().split("T")[0],this.dataNotif=[{avatar:"../assets/images/main/notification/taragologo.svg",title:"Booking Confirmation",desc:"Your booking at 'Cozy Downtown Apartment' is confirmed! Check-in is on September 5, 2024. Looking forward to hosting you!",date:this.today},{avatar:"../assets/images/main/notification/taragologo.svg",title:"Booking Request",desc:"New booking request: John Doe wants to stay at your 'Beachfront Villa' from October 12-15, 2024. Respond within 24 hours.",date:this.today},{avatar:"../assets/images/main/notification/taragologo.svg",title:"Booking Cancellation",desc:"Your booking at 'Mountain Retreat' for October 20-23, 2024, has been canceled by the host. You\u2019ve been fully refunded.",date:this.today},{avatar:"../assets/images/main/notification/taragologo.svg",title:"Payment Received",desc:"Payment received: \u20b112,500 for your guest\u2019s stay at 'City View Loft'. The amount will be deposited into your account shortly.",date:this.today}]}ngOnInit(){this._claims=this._token.decodedToken(),this._initSocket()}ngOnDestroy(){this._socket.disconnectNotif()}goBack(){this.location.back()}_initSocket(){this._socket.initNotif(),this._socket.emit("NotifSocket","notif:join",this._claims.sub),this._socket.listen("NotifSocket","disconnect").subscribe(()=>{}),this._socket.defaultEventNotif("reconnect_attempt").subscribe(o=>{}),this._socket.defaultEventNotif("reconnect").subscribe(()=>{this._socket.emit("NotifSocket","notif:join",this._claims.sub)})}deleteCard(o){this.dataNotif.splice(o,1)}static#t=this.\u0275fac=function(e){return new(e||n)(t.Y36(c.Ye),t.Y36(f.$c),t.Y36(m.B))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-notification-page"]],decls:8,vars:3,consts:[[1,"notification"],[1,"notification-wrapper"],[1,"title-wrapper"],[1,"title"],[1,"content-wrapper"],[4,"ngIf"],["class","not-found",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"avatar"],["loading","lazy","alt","Avatar",3,"src","draggable"],[1,"desc_wrapper"],[1,"desc"],[1,"date"],[1,"close-button-small",3,"click"],[1,"not-found"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Notification"),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,u,2,1,"div",5),t.YNc(7,C,2,0,"div",6),t.qZA()()()),2&e&&(t.Q6J("@fadeInAnimation",void 0),t.xp6(6),t.Q6J("ngIf",a.dataNotif.length>0),t.xp6(1),t.Q6J("ngIf",0===a.dataNotif.length))},dependencies:[c.sg,c.O5,g.a8,p.Hw],styles:[".notification[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:90vh}.notification-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;width:100%;height:98%;overflow-y:auto;max-width:1366px;margin:auto}.notification-wrapper[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{display:flex}.notification-wrapper[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:none;display:flex;align-items:center;gap:.3;text-decoration:underline;cursor:pointer}.notification-wrapper[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:1rem;font-weight:700;font-size:clamp(1.5rem,1.5vw,8rem)}.notification-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;overflow-y:auto;margin-top:1rem}.notification-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin-top:2%;display:flex;flex-direction:row;align-items:center;gap:1rem;padding:1rem;border:1px solid rgb(248,248,248);position:relative}.notification-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{max-width:5rem}.notification-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.notification-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .desc_wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.notification-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .desc_wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}.notification-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .desc_wrapper[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-overflow:ellipsis;max-height:3em;line-height:1.5em;max-width:90%}.notification-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   .desc_wrapper[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#b3b3b3}.notification-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]:hover{background-color:#eee}.notification-wrapper[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]   .not-found-custom[_ngcontent-%COMP%]{flex:1;height:100%}.card-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px}.card[_ngcontent-%COMP%]{width:200px;height:100px;background-color:#f5f5f5;display:flex;align-items:center;justify-content:center;border-radius:8px;box-shadow:0 2px 5px #0000001a}"],data:{animation:[l.B]}})}return n})()}];let w=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(_),d.Bz]})}return n})(),P=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#n=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[c.ez,w,g.QW,p.Ps]})}return n})()}}]);